<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>system.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; <a class="qindex" href="examples.html">Examples</a> &nbsp; </center>
<hr><h1>/opentcp/include/inet/system.h File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
 <dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Version: </b></dt><dd>
1.0 </dl><dl compact><dt><b>Date: </b></dt><dd>
23.6.2002</dl>OpenTCP system function declarations, constants, general  assignments, etc.
<p>

<p>
Definition in file <a class="el" href="system_8h-source.html">system.h</a>.
<p>
<a href="system_8h-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Data Structures</h2></td></tr>
<tr><td nowrap align=right valign=top>struct &nbsp;</td><td valign=bottom><a class="el" href="structnetif.html">netif</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Network Interface declaration.</em> <a href="structnetif.html#_details">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="system_8h.html#a0">OPENTCP_VERSION</a>&nbsp;&nbsp;&nbsp;"1.0.4"</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>OpenTCP major version number.</em> <a href="#a0"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="system_8h.html#a1">TRUE</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="system_8h.html#a2">FALSE</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="group__opentcp__config.html#a4">NETWORK_TX_BUFFER_SIZE</a>&nbsp;&nbsp;&nbsp;1024</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Transmit buffer size.</em> <a href="group__opentcp__config.html#a4"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="system_8h.html#a4">MASTER_MS_CLOCK</a>&nbsp;&nbsp;&nbsp;<a class="el" href="system_8c.html#a0">base_timer</a></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="system_8h.html#a5">TXBUF</a>&nbsp;&nbsp;&nbsp;<a class="el" href="system_8c.html#a2">net_buf</a></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="system_8h.html#a6">RESET_SYSTEM</a>()&nbsp;&nbsp;&nbsp;while(1)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Macro used to reset the MCU.</em> <a href="#a6"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="system_8h.html#a7">OS_EnterCritical</a>&nbsp;&nbsp;&nbsp;__DI</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Macro used to enter critical sections.</em> <a href="#a7"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="system_8h.html#a8">OS_ExitCritical</a>&nbsp;&nbsp;&nbsp;__EI</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Macro used to exit critical sections.</em> <a href="#a8"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="system_8h.html#a9">RECEIVE_NETWORK_B</a>()&nbsp;&nbsp;&nbsp;inNE2000again()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Use this macro to read data from Ethernet controller.</em> <a href="#a9"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="system_8h.html#a10">RECEIVE_NETWORK_BUF</a>(c, d)&nbsp;&nbsp;&nbsp;inNE2000againbuf(c,d)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Use this macro to read data from Ethernet controller to a buffer.</em> <a href="#a10"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="system_8h.html#a11">SEND_NETWORK_B</a>(c)&nbsp;&nbsp;&nbsp;outNE2000again(c)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Use this macro to write data to Ethernet controller.</em> <a href="#a11"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="system_8h.html#a12">SEND_NETWORK_BUF</a>(c, d)&nbsp;&nbsp;&nbsp;outNE2000againbuf(c,d)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Use this macro to write data from buffer to Ethernet controller.</em> <a href="#a12"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="group__periodic__functions.html#a7">NETWORK_CHECK_IF_RECEIVED</a>()&nbsp;&nbsp;&nbsp;NE2000ReceiveFrame()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Use this macro to check if there is recieved data in Ethernet controller.</em> <a href="group__periodic__functions.html#a7"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="system_8h.html#a14">NETWORK_RECEIVE_INITIALIZE</a>(c)&nbsp;&nbsp;&nbsp;NE2000DMAInit_position(c)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Initialize reading from a given address.</em> <a href="#a14"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="group__periodic__functions.html#a8">NETWORK_RECEIVE_END</a>()&nbsp;&nbsp;&nbsp;NE2000DumpRxFrame()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Dump received packet in the Ethernet controller.</em> <a href="group__periodic__functions.html#a8"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="system_8h.html#a16">NETWORK_COMPLETE_SEND</a>(c)&nbsp;&nbsp;&nbsp;NE2000SendFrame(c)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Send the Ethernet packet that was formed in the Ethernet controller.</em> <a href="#a16"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="system_8h.html#a17">NETWORK_SEND_INITIALIZE</a>(c)&nbsp;&nbsp;&nbsp;InitTransmission(c)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Initialize sending of Ethernet packet from a given address.</em> <a href="#a17"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="system_8h.html#a18">NETWORK_ADD_DATALINK</a>(c)&nbsp;&nbsp;&nbsp;NE2000WriteEthernetHeader(c)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Add lower-level datalink information.</em> <a href="#a18"></a><em></em></font><br><br></td></tr>
</table>
<hr><h2>Define Documentation</h2>
<a name="a0" doxytag="system.h::OPENTCP_VERSION"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define OPENTCP_VERSION&nbsp;&nbsp;&nbsp;"1.0.4"
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This define represents OpenTCP version information. Version is in the format MAJOR.MINOR.PATCH. 
<p>
Definition at line <a class="el" href="system_8h-source.html#l00075">75</a> of file <a class="el" href="system_8h-source.html">system.h</a>.    </td>
  </tr>
</table>
<a name="a1" doxytag="system.h::TRUE"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TRUE&nbsp;&nbsp;&nbsp;1
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Boolean TRUE value as used in the OpenTCP 
<p>
Definition at line <a class="el" href="system_8h-source.html#l00078">78</a> of file <a class="el" href="system_8h-source.html">system.h</a>.
<p>
Referenced by <a class="el" href="timers_8c-source.html#l00169">free_timer()</a>, <a class="el" href="timers_8c-source.html#l00131">get_timer()</a>, <a class="el" href="timers_8c-source.html#l00194">init_timer()</a>, <a class="el" href="ip_8c-source.html#l00115">process_ip_in()</a>, and <a class="el" href="timers_8c-source.html#l00105">timer_pool_init()</a>.    </td>
  </tr>
</table>
<a name="a2" doxytag="system.h::FALSE"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define FALSE&nbsp;&nbsp;&nbsp;0
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Boolean FALSE value as used in the OpenTCP 
<p>
Definition at line <a class="el" href="system_8h-source.html#l00079">79</a> of file <a class="el" href="system_8h-source.html">system.h</a>.
<p>
Referenced by <a class="el" href="arp_8c-source.html#l00552">arp_add()</a>, <a class="el" href="timers_8c-source.html#l00248">decrement_timers()</a>, <a class="el" href="timers_8c-source.html#l00131">get_timer()</a>, and <a class="el" href="ethernet_8c-source.html#l00482">NE2000ReceiveFrame()</a>.    </td>
  </tr>
</table>
<a name="a4" doxytag="system.h::MASTER_MS_CLOCK"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MASTER_MS_CLOCK&nbsp;&nbsp;&nbsp;<a class="el" href="system_8c.html#a0">base_timer</a>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Interrupt driven msec free-running clock 
<p>
Definition at line <a class="el" href="system_8h-source.html#l00150">150</a> of file <a class="el" href="system_8h-source.html">system.h</a>.    </td>
  </tr>
</table>
<a name="a5" doxytag="system.h::TXBUF"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TXBUF&nbsp;&nbsp;&nbsp;<a class="el" href="system_8c.html#a2">net_buf</a>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
TXBUF points to transmit network buffer 
<p>
Definition at line <a class="el" href="system_8h-source.html#l00151">151</a> of file <a class="el" href="system_8h-source.html">system.h</a>.
<p>
Referenced by <a class="el" href="icmp_8c-source.html#l00097">process_icmp_in()</a>.    </td>
  </tr>
</table>
<a name="a6" doxytag="system.h::RESET_SYSTEM"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define RESET_SYSTEM</td>
          <td class="md" valign="top">(&nbsp;</td>
&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;while(1)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
By default this macro is only an infinite loop and the system is  reset by the (presumably) running watchdog timer.
<p>
Change this if another form of reset is desired/needed. <dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="tcp__client__demo_8c-example.html#a1">tcp_client_demo.c</a>, <a class="el" href="tcp__server__demo_8c-example.html#a1">tcp_server_demo.c</a>, and <a class="el" href="udp__demo_8c-example.html#a1">udp_demo.c</a>.</dl>
<p>
Definition at line <a class="el" href="system_8h-source.html#l00163">163</a> of file <a class="el" href="system_8h-source.html">system.h</a>.
<p>
Referenced by <a class="el" href="dns_8c-source.html#l00445">get_host_by_name()</a>, <a class="el" href="timers_8c-source.html#l00131">get_timer()</a>, <a class="el" href="http__server_8c-source.html#l00093">https_init()</a>, <a class="el" href="pop3__client_8c-source.html#l00148">pop3c_init()</a>, <a class="el" href="tcp_8c-source.html#l01250">process_tcp_in()</a>, and <a class="el" href="smtp__client_8c-source.html#l00155">smtpc_init()</a>.    </td>
  </tr>
</table>
<a name="a7" doxytag="system.h::OS_EnterCritical"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define OS_EnterCritical&nbsp;&nbsp;&nbsp;__DI
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000015">Todo: </a></b></dt><dd>
<ul>
<li> Move this to other arch-dependant place</dl></ul>
This is highly dependant on the architecture that is used and/or possible operating system beeing used so it will be moved to some other place in the future.
<p>
Usually disabling globally interrupts works just fine :-) 
<p>
Definition at line <a class="el" href="system_8h-source.html#l00176">176</a> of file <a class="el" href="system_8h-source.html">system.h</a>.
<p>
Referenced by <a class="el" href="timers_8c-source.html#l00194">init_timer()</a>.    </td>
  </tr>
</table>
<a name="a8" doxytag="system.h::OS_ExitCritical"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define OS_ExitCritical&nbsp;&nbsp;&nbsp;__EI
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000016">Todo: </a></b></dt><dd>
<ul>
<li> Move this to other arch-dependant place</dl></ul>
This is highly dependant on the architecture that is used and/or possible operating system beeing used so it will be moved to some other place in the future.
<p>
For now this only globally enables interrupts 
<p>
Definition at line <a class="el" href="system_8h-source.html#l00189">189</a> of file <a class="el" href="system_8h-source.html">system.h</a>.
<p>
Referenced by <a class="el" href="timers_8c-source.html#l00194">init_timer()</a>.    </td>
  </tr>
</table>
<a name="a9" doxytag="system.h::RECEIVE_NETWORK_B"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define RECEIVE_NETWORK_B</td>
          <td class="md" valign="top">(&nbsp;</td>
&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;inNE2000again()
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This macro should be used to read data from the Ethernet controller. Procedure for doing this would be as follows: <ul>
<li> Initialize reading of data from certain address in the Ethernet controller (usually you will do that based on buf_index value of <a class="el" href="structip__frame.html">ip_frame</a>, <a class="el" href="structudp__frame.html">udp_frame</a> or <a class="el" href="structtcp__frame.html">tcp_frame</a> type of variables;  in certain special situations you can also use buf_index from  <a class="el" href="structethernet__frame.html">ethernet_frame</a> type of var. <li> Keep invoking <a class="el" href="system_8h.html#a9">RECEIVE_NETWORK_B()</a> to read one byte at a time from the ethernet controller. Take care not to read more data than actually received <li> If needed, reinitialize reading of data again and start all over again <li> When finished discard the current frame in the Ethernet controller by invoking <a class="el" href="group__periodic__functions.html#a8">NETWORK_RECEIVE_END()</a> macro </ul>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="tcp__client__demo_8c-example.html#a3">tcp_client_demo.c</a>, <a class="el" href="tcp__server__demo_8c-example.html#a3">tcp_server_demo.c</a>, and <a class="el" href="udp__demo_8c-example.html#a3">udp_demo.c</a>.</dl>
<p>
Definition at line <a class="el" href="system_8h-source.html#l00210">210</a> of file <a class="el" href="system_8h-source.html">system.h</a>.
<p>
Referenced by <a class="el" href="arp_8c-source.html#l00307">arp_get_response()</a>, <a class="el" href="arp_8c-source.html#l00188">arp_send_response()</a>, <a class="el" href="bootp_8c-source.html#l00335">bootpc_eventlistener()</a>, <a class="el" href="dhcpc_8c-source.html#l00568">dhcpc_eventlistener()</a>, <a class="el" href="dhcpc_8c-source.html#l00549">dhcpc_read_n_bytes()</a>, <a class="el" href="dns_8c-source.html#l00205">dns_eventlistener()</a>, <a class="el" href="arp_8c-source.html#l00116">process_arp()</a>, <a class="el" href="icmp_8c-source.html#l00097">process_icmp_in()</a>, <a class="el" href="ip_8c-source.html#l00115">process_ip_in()</a>, <a class="el" href="tcp_8c-source.html#l01250">process_tcp_in()</a>, <a class="el" href="udp_8c-source.html#l00550">process_udp_in()</a>, and <a class="el" href="tcp_8c-source.html#l02567">tcp_check_cs()</a>.    </td>
  </tr>
</table>
<a name="a10" doxytag="system.h::RECEIVE_NETWORK_BUF"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define RECEIVE_NETWORK_BUF</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">c,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>d&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;inNE2000againbuf(c,d)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This macro should be used to read data from the Ethernet controller to a buffer in memory. Procedure for using this macro is the same as for using <a class="el" href="system_8h.html#a9">RECEIVE_NETWORK_B()</a> macro. 
<p>
Definition at line <a class="el" href="system_8h-source.html#l00220">220</a> of file <a class="el" href="system_8h-source.html">system.h</a>.
<p>
Referenced by <a class="el" href="icmp_8c-source.html#l00097">process_icmp_in()</a>, and <a class="el" href="tcp_8c-source.html#l02567">tcp_check_cs()</a>.    </td>
  </tr>
</table>
<a name="a11" doxytag="system.h::SEND_NETWORK_B"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define SEND_NETWORK_B</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">c&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;outNE2000again(c)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This macro should be used to write data to Ethernet controller. Procedure for doing this would be as follows: <ul>
<li> Initialize writing of data to certain address in the Ethernet controller. Buffer space in Ethernet controller is divided among the protocols in the following way: <li> 256 byte Tx for ARP (see ARP_BUFFER ) <li> 1536 byte Tx for ICMP (see ICMP_BUF) <li> 1536 byte Tx for TCP (see TCP_BUF) <li> 1536 byte Tx for UDP (see UDP_BUF) <li> Write the data by using <a class="el" href="system_8h.html#a11">SEND_NETWORK_B()</a> macro <li> When all of the data is written instruct the Ethernet controller to send the data by calling the <a class="el" href="system_8h.html#a16">NETWORK_COMPLETE_SEND()</a> macro with number of bytes to send as a parameter </ul>

<p>
Definition at line <a class="el" href="system_8h-source.html#l00240">240</a> of file <a class="el" href="system_8h-source.html">system.h</a>.
<p>
Referenced by <a class="el" href="arp_8c-source.html#l00390">arp_send_req()</a>, <a class="el" href="arp_8c-source.html#l00188">arp_send_response()</a>, and <a class="el" href="ip_8c-source.html#l00300">process_ip_out()</a>.    </td>
  </tr>
</table>
<a name="a12" doxytag="system.h::SEND_NETWORK_BUF"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define SEND_NETWORK_BUF</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">c,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>d&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;outNE2000againbuf(c,d)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This macro should be used to write data from a buffer to Ethernet controller. Usage is the same as for the <a class="el" href="system_8h.html#a11">SEND_NETWORK_B()</a> macro. 
<p>
Definition at line <a class="el" href="system_8h-source.html#l00248">248</a> of file <a class="el" href="system_8h-source.html">system.h</a>.
<p>
Referenced by <a class="el" href="ip_8c-source.html#l00300">process_ip_out()</a>.    </td>
  </tr>
</table>
<a name="a14" doxytag="system.h::NETWORK_RECEIVE_INITIALIZE"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define NETWORK_RECEIVE_INITIALIZE</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">c&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;NE2000DMAInit_position(c)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This macro initializes reading of the received Ethernet frame from a given address in the Ethernet controller. 
<p>
Definition at line <a class="el" href="system_8h-source.html#l00270">270</a> of file <a class="el" href="system_8h-source.html">system.h</a>.
<p>
Referenced by <a class="el" href="bootp_8c-source.html#l00335">bootpc_eventlistener()</a>, <a class="el" href="arp_8c-source.html#l00116">process_arp()</a>, <a class="el" href="icmp_8c-source.html#l00097">process_icmp_in()</a>, <a class="el" href="ip_8c-source.html#l00115">process_ip_in()</a>, <a class="el" href="tcp_8c-source.html#l01250">process_tcp_in()</a>, and <a class="el" href="udp_8c-source.html#l00550">process_udp_in()</a>.    </td>
  </tr>
</table>
<a name="a16" doxytag="system.h::NETWORK_COMPLETE_SEND"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define NETWORK_COMPLETE_SEND</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">c&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;NE2000SendFrame(c)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
After the data has been written to the Ethernet controller, use this function to instruct the Ethernet controller that data is in it's  internal buffer and should be sent. 
<p>
Definition at line <a class="el" href="system_8h-source.html#l00288">288</a> of file <a class="el" href="system_8h-source.html">system.h</a>.
<p>
Referenced by <a class="el" href="arp_8c-source.html#l00390">arp_send_req()</a>, <a class="el" href="arp_8c-source.html#l00188">arp_send_response()</a>, and <a class="el" href="ip_8c-source.html#l00300">process_ip_out()</a>.    </td>
  </tr>
</table>
<a name="a17" doxytag="system.h::NETWORK_SEND_INITIALIZE"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define NETWORK_SEND_INITIALIZE</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">c&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;InitTransmission(c)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Use this function to initialize sending (or creating) of an Ethernet packet from a given address in the Ethernet controller. 
<p>
Definition at line <a class="el" href="system_8h-source.html#l00296">296</a> of file <a class="el" href="system_8h-source.html">system.h</a>.
<p>
Referenced by <a class="el" href="arp_8c-source.html#l00390">arp_send_req()</a>, <a class="el" href="arp_8c-source.html#l00188">arp_send_response()</a>, and <a class="el" href="ip_8c-source.html#l00300">process_ip_out()</a>.    </td>
  </tr>
</table>
<a name="a18" doxytag="system.h::NETWORK_ADD_DATALINK"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define NETWORK_ADD_DATALINK</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">c&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;NE2000WriteEthernetHeader(c)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This implementation adds Ethernet data-link information by invoking <a class="el" href="ethernet_8c.html#a17">NE2000WriteEthernetHeader()</a> function that writes Ethernet header based on information provided (destination and source ethernet address and protocol field). 
<p>
Definition at line <a class="el" href="system_8h-source.html#l00306">306</a> of file <a class="el" href="system_8h-source.html">system.h</a>.
<p>
Referenced by <a class="el" href="arp_8c-source.html#l00390">arp_send_req()</a>, <a class="el" href="arp_8c-source.html#l00188">arp_send_response()</a>, and <a class="el" href="ip_8c-source.html#l00300">process_ip_out()</a>.    </td>
  </tr>
</table>
<hr><address style="align: right;"><small>Generated on Sun Aug 3 20:33:00 2003 for OpenTCP by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.18 </small></address>
</body>
</html>
