<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>https_callbacks.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; <a class="qindex" href="examples.html">Examples</a> &nbsp; </center>
<hr><h1>/opentcp/http/https_callbacks.c File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
 <dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Version: </b></dt><dd>
1.0 </dl><dl compact><dt><b>Date: </b></dt><dd>
9.10.2002 </dl><dl compact><dt><b><a class="el" href="bug.html#_bug000013">Bug: </a></b></dt><dd>
</dl> <dl compact><dt><b>Warning: </b></dt><dd>
 </dl><dl compact><dt><b><a class="el" href="todo.html#_todo000013">Todo: </a></b></dt><dd>
</dl>
<p>
This file holds definitions and descriptions of HTTP callback functions that will be overridden by user code. These callback functions are  invoked by HTTP server to get a feedback from the part of HTTP server who's behaviour is defined by the user application.
<p>

<p>
Definition in file <a class="el" href="https__callbacks_8c-source.html">https_callbacks.c</a>.
<p>
<a href="https__callbacks_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td nowrap align=right valign=top>INT16&nbsp;</td><td valign=bottom><a class="el" href="https__callbacks_8c.html#a1">https_findfile</a> (UINT8 hash, UINT8 ses)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Brief function description here.</em> <a href="#a1"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>INT16&nbsp;</td><td valign=bottom><a class="el" href="https__callbacks_8c.html#a2">https_loadbuffer</a> (UINT8 ses, UINT8 *buf, UINT16 buflen)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Fill network transmit buffer with HTTP headers&amp;data.</em> <a href="#a2"></a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td nowrap align=right valign=top>const char&nbsp;</td><td valign=bottom><a class="el" href="https__callbacks_8c.html#a0">https_not_found_page</a> []</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>File not found message.</em> <a href="#a0"></a><em></em></font><br><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a name="a1" doxytag="https_callbacks.c::https_findfile"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> INT16 https_findfile </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT8&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>hash</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>UINT8&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>ses</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
09.10.2002 </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>hash</em>&nbsp;</td><td>
Calculated file-name hash value. Used so that the whole file name doesn't need to be stored in RAM </td></tr>
<tr><td valign=top><em>ses</em>&nbsp;</td><td>
HTTP session identifier </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
 <ul>
<li> -1 - This function should return -1 if no file has been found <li> 1 - This function should return 1 if a file with appropriate hash value has been found. </ul>
</dl><dl compact><dt><b>Warning: </b></dt><dd>
 <ul>
<li> This function <b>MUST</b> be implemented by user application to work with local configuration</ul>
</dl>This function is invoked by the HTTP server once a hash value of a  requested file name has been calculated. User application uses this hash value to check if appropriate file is available to web server. Appropriate https session entry is then filled accordingly. 
<p>
Definition at line <a class="el" href="https__callbacks_8c-source.html#l00124">124</a> of file <a class="el" href="https__callbacks_8c-source.html">https_callbacks.c</a>.    </td>
  </tr>
</table>
<a name="a2" doxytag="https_callbacks.c::https_loadbuffer"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> INT16 https_loadbuffer </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT8&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>ses</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>UINT8 *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>buf</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>UINT16&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>buflen</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
09.10.2002 </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>ses</em>&nbsp;</td><td>
HTTP session identifier </td></tr>
<tr><td valign=top><em>buf</em>&nbsp;</td><td>
Pointer to buffer where data is to be stored </td></tr>
<tr><td valign=top><em>buflen</em>&nbsp;</td><td>
Length of the buffer in bytes </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
 <ul>
<li> &gt;=0 - Number of bytes written to buffer </ul>
</dl><dl compact><dt><b>Warning: </b></dt><dd>
 <ul>
<li> This function <b>MUST</b> be implemented by user application to work with local configuration</ul>
</dl>This handlers' job is to fill the buffer with the data that web server should return back through the TCP connection. This is accomplished based session identifer and values of variables in appropriate https entry. 
<p>
Definition at line <a class="el" href="https__callbacks_8c-source.html#l00173">173</a> of file <a class="el" href="https__callbacks_8c-source.html">https_callbacks.c</a>.
<p>
References <a class="el" href="https__callbacks_8c-source.html#l00081">https_not_found_page</a>.    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a name="a0" doxytag="https_callbacks.c::https_not_found_page"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char https_not_found_page[]
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><div class="fragment"><pre> <span class="stringliteral">"HTTP/1.0 200 OK\r\n</span>
<span class="stringliteral">Last-modified: Fri, 18 Oct 2002 12:04:32 GMT\r\n</span>
<span class="stringliteral">Server: ESERV-10/1.0\nContent-type: text/html\r\n</span>
<span class="stringliteral">Content-length: 400\r\n</span>
<span class="stringliteral">\r\n</span>
<span class="stringliteral">&lt;HEAD&gt;</span>
<span class="stringliteral">&lt;TITLE&gt;Viola Systems Embedded WEB Server&lt;/TITLE&gt;&lt;/HEAD&gt;</span>
<span class="stringliteral">&lt;BODY&gt;</span>
<span class="stringliteral">&lt;H2&gt;HTTP 1.0 404 Error. File Not Found&lt;/H2&gt;</span>
<span class="stringliteral">The requested URL was not found on this server.</span>
<span class="stringliteral">&lt;HR&gt;</span>
<span class="stringliteral">&lt;BR&gt;</span>
<span class="stringliteral">&lt;I&gt;</span>
<span class="stringliteral">Viola Systems Embedded WEB Server 2.0, 2002</span>
<span class="stringliteral">&lt;BR&gt;</span>
<span class="stringliteral">Web Server for Embedded Applications</span>
<span class="stringliteral">&lt;/I&gt;</span>
<span class="stringliteral">&lt;BR&gt;</span>
<span class="stringliteral">&lt;A HREF=http://www.violasystems.com&gt;</span>
<span class="stringliteral">www.violasystems.com - Embedding The Internet&lt;/A&gt;</span>
&lt;/BODY&gt;"</span></pre></div>Message that will be displayed if a file with appropriate name (hash value) was not found. 
<p>
Definition at line <a class="el" href="https__callbacks_8c-source.html#l00081">81</a> of file <a class="el" href="https__callbacks_8c-source.html">https_callbacks.c</a>.
<p>
Referenced by <a class="el" href="https__callbacks_8c-source.html#l00173">https_loadbuffer()</a>.    </td>
  </tr>
</table>
<hr><address style="align: right;"><small>Generated on Sun Aug 3 20:33:00 2003 for OpenTCP by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.18 </small></address>
</body>
</html>
