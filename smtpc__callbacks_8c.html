<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>smtpc_callbacks.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; <a class="qindex" href="examples.html">Examples</a> &nbsp; </center>
<hr><h1>/opentcp/smtp/smtpc_callbacks.c File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
 <dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Version: </b></dt><dd>
1.0 </dl><dl compact><dt><b>Date: </b></dt><dd>
11.9.2002 </dl><dl compact><dt><b><a class="el" href="bug.html#_bug000019">Bug: </a></b></dt><dd>
</dl> <dl compact><dt><b>Warning: </b></dt><dd>
 </dl><dl compact><dt><b><a class="el" href="todo.html#_todo000021">Todo: </a></b></dt><dd>
</dl>
<p>
This file holds empty callback functions needed by the SMTP client to get user-specific e-mail data from the application. Add your own code to perform the requested tasks.
<p>

<p>
Definition in file <a class="el" href="smtpc__callbacks_8c-source.html">smtpc_callbacks.c</a>.
<p>
<a href="smtpc__callbacks_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="smtpc__callbacks_8c.html#a0">smtpc_error</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>SMTP client error handler.</em> <a href="#a0"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="smtpc__callbacks_8c.html#a1">smtpc_allok</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>SMTP client success handler.</em> <a href="#a1"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>INT8&nbsp;</td><td valign=bottom><a class="el" href="smtpc__callbacks_8c.html#a2">smtpc_getdomain</a> (UINT8 *dbuf)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Fills in local domain information.</em> <a href="#a2"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>INT8&nbsp;</td><td valign=bottom><a class="el" href="smtpc__callbacks_8c.html#a3">smtpc_getsender</a> (UINT8 *dbuf)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns senders' e-mail address.</em> <a href="#a3"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>INT8&nbsp;</td><td valign=bottom><a class="el" href="smtpc__callbacks_8c.html#a4">smtpc_getreceiver</a> (UINT8 *dbuf)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns receivers' e-mail address.</em> <a href="#a4"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>INT8&nbsp;</td><td valign=bottom><a class="el" href="smtpc__callbacks_8c.html#a5">smtpc_getsubject</a> (UINT8 *dbuf)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns subject of the E-mail.</em> <a href="#a5"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>INT16&nbsp;</td><td valign=bottom><a class="el" href="smtpc__callbacks_8c.html#a6">smtpc_getdata</a> (UINT8 *dbuf, UINT16 buflen)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns e-mail data (message) to be sent.</em> <a href="#a6"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="smtpc__callbacks_8c.html#a7">smtpc_dataacked</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Last data received by remote host.</em> <a href="#a7"></a><em></em></font><br><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a name="a0" doxytag="smtpc_callbacks.c::smtpc_error"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void smtpc_error </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
20.08.2002</dl>This callback function is called by SMTP Client when there  happens error of some kind (timeout, losing of connection etc.). It  indicates that e-mail was not delivered to server. 
<p>
Definition at line <a class="el" href="smtpc__callbacks_8c-source.html#l00084">84</a> of file <a class="el" href="smtpc__callbacks_8c-source.html">smtpc_callbacks.c</a>.    </td>
  </tr>
</table>
<a name="a1" doxytag="smtpc_callbacks.c::smtpc_allok"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void smtpc_allok </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
12.08.2002</dl>This callback function is called by SMTP Client when the packet is succesfully delivered to E-mail server. 
<p>
Definition at line <a class="el" href="smtpc__callbacks_8c-source.html#l00099">99</a> of file <a class="el" href="smtpc__callbacks_8c-source.html">smtpc_callbacks.c</a>.    </td>
  </tr>
</table>
<a name="a2" doxytag="smtpc_callbacks.c::smtpc_getdomain"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> INT8 smtpc_getdomain </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT8 *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>dbuf</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
12.08.2002 </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>dbuf</em>&nbsp;</td><td>
pointer to buffer to which the domain name will be stored </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
 <ul>
<li> -1 - Error <li> &gt;0 - Number of bytes inserted</ul>
</dl>This callback function is called by SMTP Client when it wants to know the local domain. The user is responsible of storing that domain to destbuf without NULL termination ('\0') and returning number of bytes on domain. 
<p>
Definition at line <a class="el" href="smtpc__callbacks_8c-source.html#l00120">120</a> of file <a class="el" href="smtpc__callbacks_8c-source.html">smtpc_callbacks.c</a>.    </td>
  </tr>
</table>
<a name="a3" doxytag="smtpc_callbacks.c::smtpc_getsender"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> INT8 smtpc_getsender </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT8 *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>dbuf</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
12.08.2002 </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>dbuf</em>&nbsp;</td><td>
pointer to buffer to which the sender will be stored </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
 <ul>
<li> -1 - Error <li> &gt;0 - Number of bytes inserted</ul>
</dl>This callback function is called by SMTP Client when it wants to know the E-mail address of sender. The user is responsible of  storing that address to destbuf without NULL termination ('\0')  and returning number of bytes on E-mail address. 
<p>
Definition at line <a class="el" href="smtpc__callbacks_8c-source.html#l00139">139</a> of file <a class="el" href="smtpc__callbacks_8c-source.html">smtpc_callbacks.c</a>.    </td>
  </tr>
</table>
<a name="a4" doxytag="smtpc_callbacks.c::smtpc_getreceiver"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> INT8 smtpc_getreceiver </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT8 *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>dbuf</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
12.08.2002 </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>dbuf</em>&nbsp;</td><td>
pointer to buffer to which the receiver will be stored </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
 <ul>
<li> -1 - Error <li> &gt;0 - Number of bytes inserted</ul>
</dl>This callback function is called by SMTP Client when it wants to know the E-mail address of receiver. The user is responsible of  storing that address to destbuf without NULL termination ('\0')  and returning number of bytes on E-mail address. 
<p>
Definition at line <a class="el" href="smtpc__callbacks_8c-source.html#l00159">159</a> of file <a class="el" href="smtpc__callbacks_8c-source.html">smtpc_callbacks.c</a>.    </td>
  </tr>
</table>
<a name="a5" doxytag="smtpc_callbacks.c::smtpc_getsubject"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> INT8 smtpc_getsubject </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT8 *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>dbuf</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
12.08.2002 </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>dbuf</em>&nbsp;</td><td>
pointer to buffer to which the subject will be stored </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
 <ul>
<li> -1 - Error <li> &gt;0 - Number of bytes inserted</ul>
</dl>This callback function is called by SMTP Client when it wants to know the subject of E-mail to be sent. The user is responsible  of storing subject to destbuf without NULL termination ('\0')  and returning number of bytes inserted. 
<p>
Definition at line <a class="el" href="smtpc__callbacks_8c-source.html#l00178">178</a> of file <a class="el" href="smtpc__callbacks_8c-source.html">smtpc_callbacks.c</a>.    </td>
  </tr>
</table>
<a name="a6" doxytag="smtpc_callbacks.c::smtpc_getdata"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> INT16 smtpc_getdata </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT8 *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>dbuf</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>UINT16&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>buflen</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
12.08.2002 </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>dbuf</em>&nbsp;</td><td>
pointer to buffer to which the data will be stored </td></tr>
<tr><td valign=top><em>buflen</em>&nbsp;</td><td>
length of data buffer </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
 <ul>
<li> -1 - Error <li> &gt;0 - Number of bytes inserted</ul>
</dl>This callback function is called by SMTP Client when it wants to get mail plain data from user. The user is responsible of  filling dbuf and returning number of bytes assembled. When data end is reached the function must return (-1) without storing any bytes to buffer (so just send data untill you don't have any bytes to sent when callback is made to that function and  return -1). Do not move read pointer of your data forward before SMTP makes callback to smtpc_dataacked! 
<p>
Definition at line <a class="el" href="smtpc__callbacks_8c-source.html#l00203">203</a> of file <a class="el" href="smtpc__callbacks_8c-source.html">smtpc_callbacks.c</a>.    </td>
  </tr>
</table>
<a name="a7" doxytag="smtpc_callbacks.c::smtpc_dataacked"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void smtpc_dataacked </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
12.08.2002</dl>This callback function is called by SMTP Client when TCP has ensured that the last packet was transmitted succesfully and next time when smtpc_getdata callback is made new data should be  assembled 
<p>
Definition at line <a class="el" href="smtpc__callbacks_8c-source.html#l00219">219</a> of file <a class="el" href="smtpc__callbacks_8c-source.html">smtpc_callbacks.c</a>.    </td>
  </tr>
</table>
<hr><address style="align: right;"><small>Generated on Sun Aug 3 20:33:00 2003 for OpenTCP by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.18 </small></address>
</body>
</html>
