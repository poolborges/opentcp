<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ethernet.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; <a class="qindex" href="examples.html">Examples</a> &nbsp; </center>
<hr><h1>/opentcp/ethernet.c File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
 <dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) <li> Vladan Jovanovic (<a href="mailto:vladan.jovanovic@violasystems.com">vladan.jovanovic@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Version: </b></dt><dd>
1.0 </dl><dl compact><dt><b>Date: </b></dt><dd>
19.2.2002 </dl><dl compact><dt><b><a class="el" href="bug.html#_bug000011">Bug: </a></b></dt><dd>
</dl> <dl compact><dt><b>Warning: </b></dt><dd>
 </dl><dl compact><dt><b><a class="el" href="todo.html#_todo000011">Todo: </a></b></dt><dd>
<ul>
<li> How to adopt to different MCU speeds in the code?</dl></ul>
OpenTCP implementation of Ethernet protocol and driver for Realtek's RTL8019AS Ethernet controller. Function declarations,data structures etc. may be found in <a class="el" href="ethernet_8h.html">inet/ethernet.h</a>.
<p>

<p>
Definition in file <a class="el" href="ethernet_8c-source.html">ethernet.c</a>.
<p>
<a href="ethernet_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="ethernet_8c.html#a5">outNE2000</a> (UINT8 reg, UINT8 dat)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Write data to NE2000 register.</em> <a href="#a5"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="ethernet_8c.html#a6">outNE2000again</a> (UINT8 dat)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Write data to the same NE2000 register as before.</em> <a href="#a6"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="ethernet_8c.html#a7">outNE2000againbuf</a> (UINT8 *buf, UINT16 len)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Write buffer data to the same NE2000 register as before.</em> <a href="#a7"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>UINT8&nbsp;</td><td valign=bottom><a class="el" href="ethernet_8c.html#a8">inNE2000</a> (UINT8 reg)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Read byte from NE2000 register.</em> <a href="#a8"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>UINT8&nbsp;</td><td valign=bottom><a class="el" href="ethernet_8c.html#a9">inNE2000again</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Continue reading byte(s) from NE2000.</em> <a href="#a9"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="ethernet_8c.html#a10">inNE2000againbuf</a> (UINT8 *buf, UINT16 len)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Read bytes from NE2000 to buffer.</em> <a href="#a10"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>UINT8&nbsp;</td><td valign=bottom><a class="el" href="ethernet_8c.html#a11">NE2000CheckRxFrame</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Check to see if new frame has been received.</em> <a href="#a11"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="ethernet_8c.html#a12">NE2000DumpRxFrame</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Discard current received frame.</em> <a href="#a12"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__core__initializer.html#a1">NE2000Init</a> (UINT8 *mac)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Initialize and configure RTL8019AS.</em> <a href="group__core__initializer.html#a1"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__periodic__functions.html#a1">NE2000CheckOverFlow</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Check if receive-buffer overflow occured.</em> <a href="group__periodic__functions.html#a1"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>UINT8&nbsp;</td><td valign=bottom><a class="el" href="ethernet_8c.html#a15">NE2000ReceiveFrame</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Checks if new Ethernet frame exists and initializes variables accordingly.</em> <a href="#a15"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="ethernet_8c.html#a16">InitTransmission</a> (UINT8 page)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Initialize transmission of new packet.</em> <a href="#a16"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="ethernet_8c.html#a17">NE2000WriteEthernetHeader</a> (struct <a class="el" href="structethernet__frame.html">ethernet_frame</a> *frame)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Write Ethernet Header to transmission buffer.</em> <a href="#a17"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="ethernet_8c.html#a18">NE2000DMAInit</a> (UINT8 page)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Initialize NE2000 in preparation for remote DMA.</em> <a href="#a18"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="ethernet_8c.html#a19">NE2000DMAInit_position</a> (UINT16 pos)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Initialize reading from NE2000.</em> <a href="#a19"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="ethernet_8c.html#a20">NE2000SendFrame</a> (UINT16 len)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Instruct NIC to send the Ethernet frame.</em> <a href="#a20"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="ethernet_8c.html#a21">NE2000EnterSleep</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Put NE2000 to sleep mode.</em> <a href="#a21"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="ethernet_8c.html#a22">NE2000ExitSleep</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Restore NE2000 from sleep mode.</em> <a href="#a22"></a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td nowrap align=right valign=top>UINT8&nbsp;</td><td valign=bottom><a class="el" href="ethernet_8c.html#a0">NE2000NextPktPtr</a></td></tr>
<tr><td nowrap align=right valign=top>UINT8&nbsp;</td><td valign=bottom><a class="el" href="ethernet_8c.html#a1">NE2000CurrPktPtr</a></td></tr>
<tr><td nowrap align=right valign=top>UINT8&nbsp;</td><td valign=bottom><a class="el" href="ethernet_8c.html#a2">EtherSleep</a> = 0</td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="structethernet__frame.html">ethernet_frame</a>&nbsp;</td><td valign=bottom><a class="el" href="ethernet_8c.html#a3">received_frame</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Used for storing various information about the received Ethernet frame.</em> <a href="#a3"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="structethernet__frame.html">ethernet_frame</a>&nbsp;</td><td valign=bottom><a class="el" href="ethernet_8c.html#a4">send_frame</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Used for storing various information about the Ethernet frame that will be sent.</em> <a href="#a4"></a><em></em></font><br><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a name="a5" doxytag="ethernet.c::outNE2000"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void outNE2000 </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT8&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>reg</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>UINT8&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>dat</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasytems.com">jari.lahti@violasytems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
19.02.2002 </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>reg</em>&nbsp;</td><td>
NE2000 register address </td></tr>
<tr><td valign=top><em>dat</em>&nbsp;</td><td>
new register content</td></tr>
</table>
</dl>Write data to NE2000 register. 
<p>
Definition at line <a class="el" href="ethernet_8c-source.html#l00118">118</a> of file <a class="el" href="ethernet_8c-source.html">ethernet.c</a>.
<p>
References <a class="el" href="config_8h-source.html#l00097">ADRBUS</a>, <a class="el" href="config_8h-source.html#l00091">DATABUS</a>, <a class="el" href="config_8h-source.html#l00094">DATADIR</a>, <a class="el" href="config_8h-source.html#l00082">DDR_OUT</a>, <a class="el" href="config_8h-source.html#l00102">IOCHRDY</a>, and <a class="el" href="config_8h-source.html#l00100">IOW</a>.
<p>
Referenced by <a class="el" href="ethernet_8c-source.html#l00570">InitTransmission()</a>, <a class="el" href="ethernet_8c-source.html#l00393">NE2000CheckOverFlow()</a>, <a class="el" href="ethernet_8c-source.html#l00274">NE2000CheckRxFrame()</a>, <a class="el" href="ethernet_8c-source.html#l00639">NE2000DMAInit()</a>, <a class="el" href="ethernet_8c-source.html#l00665">NE2000DMAInit_position()</a>, <a class="el" href="ethernet_8c-source.html#l00304">NE2000DumpRxFrame()</a>, <a class="el" href="ethernet_8c-source.html#l00760">NE2000EnterSleep()</a>, <a class="el" href="ethernet_8c-source.html#l00779">NE2000ExitSleep()</a>, <a class="el" href="ethernet_8c-source.html#l00327">NE2000Init()</a>, <a class="el" href="ethernet_8c-source.html#l00482">NE2000ReceiveFrame()</a>, and <a class="el" href="ethernet_8c-source.html#l00725">NE2000SendFrame()</a>.    </td>
  </tr>
</table>
<a name="a6" doxytag="ethernet.c::outNE2000again"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void outNE2000again </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT8&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>dat</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
19.02.2002 </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>dat</em>&nbsp;</td><td>
new register content</td></tr>
</table>
</dl>Invoke this function to write data to the same register as  in previously invoked <a class="el" href="ethernet_8c.html#a5">outNE2000()</a>. Saves some cycles because data direction registers and address are set up.
<p>
Use <a class="el" href="system_8h.html#a11">SEND_NETWORK_B()</a> macro instead of invoking this function directly. 
<p>
Definition at line <a class="el" href="ethernet_8c-source.html#l00148">148</a> of file <a class="el" href="ethernet_8c-source.html">ethernet.c</a>.
<p>
References <a class="el" href="config_8h-source.html#l00091">DATABUS</a>, <a class="el" href="config_8h-source.html#l00102">IOCHRDY</a>, and <a class="el" href="config_8h-source.html#l00100">IOW</a>.
<p>
Referenced by <a class="el" href="ethernet_8c-source.html#l00725">NE2000SendFrame()</a>, and <a class="el" href="ethernet_8c-source.html#l00608">NE2000WriteEthernetHeader()</a>.    </td>
  </tr>
</table>
<a name="a7" doxytag="ethernet.c::outNE2000againbuf"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void outNE2000againbuf </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT8 *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>buf</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>UINT16&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>len</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
20.07.2003 </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>buf</em>&nbsp;</td><td>
pointer to buffer from which we're taking data </td></tr>
<tr><td valign=top><em>len</em>&nbsp;</td><td>
number of bytes from buffer to write</td></tr>
</table>
</dl>Invoke this function to write data from a buffer to the same  register as in previously invoked <a class="el" href="ethernet_8c.html#a5">outNE2000()</a>. Saves some  cycles because data direction registers and address are set up.
<p>
Use <a class="el" href="system_8h.html#a12">SEND_NETWORK_BUF()</a> macro instead of invoking this function directly. 
<p>
Definition at line <a class="el" href="ethernet_8c-source.html#l00175">175</a> of file <a class="el" href="ethernet_8c-source.html">ethernet.c</a>.
<p>
References <a class="el" href="config_8h-source.html#l00091">DATABUS</a>, <a class="el" href="config_8h-source.html#l00102">IOCHRDY</a>, and <a class="el" href="config_8h-source.html#l00100">IOW</a>.    </td>
  </tr>
</table>
<a name="a8" doxytag="ethernet.c::inNE2000"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> UINT8 inNE2000 </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT8&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>reg</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
19.02.2002 </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>reg</em>&nbsp;</td><td>
NE2000 register address </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
Register content</dl>Invoke this function to read contents of a NE2000 register. 
<p>
Definition at line <a class="el" href="ethernet_8c-source.html#l00198">198</a> of file <a class="el" href="ethernet_8c-source.html">ethernet.c</a>.
<p>
References <a class="el" href="config_8h-source.html#l00097">ADRBUS</a>, <a class="el" href="config_8h-source.html#l00091">DATABUS</a>, <a class="el" href="config_8h-source.html#l00094">DATADIR</a>, <a class="el" href="config_8h-source.html#l00085">DDR_IN</a>, <a class="el" href="config_8h-source.html#l00102">IOCHRDY</a>, and <a class="el" href="config_8h-source.html#l00101">IOR</a>.
<p>
Referenced by <a class="el" href="ethernet_8c-source.html#l00570">InitTransmission()</a>, <a class="el" href="ethernet_8c-source.html#l00393">NE2000CheckOverFlow()</a>, <a class="el" href="ethernet_8c-source.html#l00274">NE2000CheckRxFrame()</a>, and <a class="el" href="ethernet_8c-source.html#l00482">NE2000ReceiveFrame()</a>.    </td>
  </tr>
</table>
<a name="a9" doxytag="ethernet.c::inNE2000again"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> UINT8 inNE2000again </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
19.02.2002 </dl><dl compact><dt><b>Returns: </b></dt><dd>
Register content</dl>Invoke this function to continue reading contents of a NE2000 register, usefull when reading a sequence of bytes from Ethernet controller.
<p>
Use <a class="el" href="system_8h.html#a9">RECEIVE_NETWORK_B()</a> macro instead of directly invoking this function for easier driver change. 
<p>
Definition at line <a class="el" href="ethernet_8c-source.html#l00226">226</a> of file <a class="el" href="ethernet_8c-source.html">ethernet.c</a>.
<p>
References <a class="el" href="config_8h-source.html#l00091">DATABUS</a>, <a class="el" href="config_8h-source.html#l00102">IOCHRDY</a>, and <a class="el" href="config_8h-source.html#l00101">IOR</a>.
<p>
Referenced by <a class="el" href="ethernet_8c-source.html#l00482">NE2000ReceiveFrame()</a>.    </td>
  </tr>
</table>
<a name="a10" doxytag="ethernet.c::inNE2000againbuf"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void inNE2000againbuf </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT8 *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>buf</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>UINT16&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>len</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
20.07.2003</dl>Invoke this function to continue reading contents of a NE2000 register, only this time to a buffer directly.
<p>
Use <a class="el" href="system_8h.html#a10">RECEIVE_NETWORK_BUF()</a> macro instead of directly invoking this function for easier driver change. 
<p>
Definition at line <a class="el" href="ethernet_8c-source.html#l00252">252</a> of file <a class="el" href="ethernet_8c-source.html">ethernet.c</a>.
<p>
References <a class="el" href="config_8h-source.html#l00091">DATABUS</a>, <a class="el" href="config_8h-source.html#l00102">IOCHRDY</a>, and <a class="el" href="config_8h-source.html#l00101">IOR</a>.    </td>
  </tr>
</table>
<a name="a11" doxytag="ethernet.c::NE2000CheckRxFrame"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> UINT8 NE2000CheckRxFrame </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
19.02.2002 </dl><dl compact><dt><b>Returns: </b></dt><dd>
 <ul>
<li> <a class="el" href="system_8h.html#a1">TRUE</a> - if there is a new packet waiting <li> <a class="el" href="system_8h.html#a2">FALSE</a> - if there is no new packet waiting</ul>
</dl>Invoke this function to check if there is a new Ethernet frame in the NIC's buffer waiting to be processed. 
<p>
Definition at line <a class="el" href="ethernet_8c-source.html#l00274">274</a> of file <a class="el" href="ethernet_8c-source.html">ethernet.c</a>.
<p>
References <a class="el" href="ethernet_8h-source.html#l00088">BOUNDARY</a>, <a class="el" href="ethernet_8h-source.html#l00085">CR</a>, <a class="el" href="ethernet_8h-source.html#l00113">CURR</a>, <a class="el" href="ethernet_8c-source.html#l00198">inNE2000()</a>, <a class="el" href="ethernet_8c-source.html#l00118">outNE2000()</a>, and <a class="el" href="ethernet_8h-source.html#l00100">RCR</a>.
<p>
Referenced by <a class="el" href="ethernet_8c-source.html#l00482">NE2000ReceiveFrame()</a>.    </td>
  </tr>
</table>
<a name="a12" doxytag="ethernet.c::NE2000DumpRxFrame"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void NE2000DumpRxFrame </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
19.02.2002</dl>Discard the current received frame by advancing the receive circular buffer tail pointer. 
<p>
Definition at line <a class="el" href="ethernet_8c-source.html#l00304">304</a> of file <a class="el" href="ethernet_8c-source.html">ethernet.c</a>.
<p>
References <a class="el" href="ethernet_8h-source.html#l00088">BOUNDARY</a>, <a class="el" href="ethernet_8h-source.html#l00085">CR</a>, <a class="el" href="ethernet_8c-source.html#l00079">NE2000NextPktPtr</a>, and <a class="el" href="ethernet_8c-source.html#l00118">outNE2000()</a>.    </td>
  </tr>
</table>
<a name="a15" doxytag="ethernet.c::NE2000ReceiveFrame"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> UINT8 NE2000ReceiveFrame </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasytems.com">jari.lahti@violasytems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
19.02.2002 </dl><dl compact><dt><b>Returns: </b></dt><dd>
 <ul>
<li> <a class="el" href="system_8h.html#a1">TRUE</a> - new frame exists, variables initialized so further processing may start <li> <a class="el" href="system_8h.html#a2">FALSE</a> - no new Ethernet frame detected</ul>
</dl>Invoke this function periodically (better not directly but by invoking <a class="el" href="group__periodic__functions.html#a7">NETWORK_CHECK_IF_RECEIVED()</a> macro) to test for newly-arrived Ethernet packets.
<p>
Once this function detects a new Etherent packet, internal variables  are initialized (NE2000CurrPktPtr, NE2000NextPktPtr and received_frame structure) and TRUE is returned, indicating that processing of newly-arrived frame may begin. 
<p>
Definition at line <a class="el" href="ethernet_8c-source.html#l00482">482</a> of file <a class="el" href="ethernet_8c-source.html">ethernet.c</a>.
<p>
References <a class="el" href="ethernet_8h-source.html#l00088">BOUNDARY</a>, <a class="el" href="ethernet_8h-source.html#l00161">ethernet_frame::buf_index</a>, <a class="el" href="ethernet_8h-source.html#l00085">CR</a>, <a class="el" href="ethernet_8h-source.html#l00144">ethernet_frame::destination</a>, <a class="el" href="system_8h-source.html#l00079">FALSE</a>, <a class="el" href="ethernet_8h-source.html#l00152">ethernet_frame::frame_size</a>, <a class="el" href="ethernet_8c-source.html#l00198">inNE2000()</a>, <a class="el" href="ethernet_8c-source.html#l00226">inNE2000again()</a>, <a class="el" href="ethernet_8h-source.html#l00118">IOPORT</a>, <a class="el" href="ethernet_8c-source.html#l00274">NE2000CheckRxFrame()</a>, <a class="el" href="ethernet_8c-source.html#l00080">NE2000CurrPktPtr</a>, <a class="el" href="ethernet_8c-source.html#l00079">NE2000NextPktPtr</a>, <a class="el" href="ethernet_8c-source.html#l00118">outNE2000()</a>, <a class="el" href="ethernet_8h-source.html#l00155">ethernet_frame::protocol</a>, <a class="el" href="ethernet_8h-source.html#l00098">RBCR0</a>, <a class="el" href="ethernet_8h-source.html#l00096">RSAR0</a>, and <a class="el" href="ethernet_8h-source.html#l00148">ethernet_frame::source</a>.    </td>
  </tr>
</table>
<a name="a16" doxytag="ethernet.c::InitTransmission"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void InitTransmission </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT8&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>page</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
19.02.2002 </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>page</em>&nbsp;</td><td>
Address in Ethernet controller where outgoing packet buffered</td></tr>
</table>
</dl>This function is used to initialize transmission of an Ethernet  packet. Packet is created starting from <em>page</em> address.
<p>
Do not invoke this function directly, but instead use  <a class="el" href="system_8h.html#a17">NETWORK_SEND_INITIALIZE()</a> macro. 
<p>
Definition at line <a class="el" href="ethernet_8c-source.html#l00570">570</a> of file <a class="el" href="ethernet_8c-source.html">ethernet.c</a>.
<p>
References <a class="el" href="config_8h-source.html#l00097">ADRBUS</a>, <a class="el" href="ethernet_8h-source.html#l00085">CR</a>, <a class="el" href="config_8h-source.html#l00094">DATADIR</a>, <a class="el" href="config_8h-source.html#l00082">DDR_OUT</a>, <a class="el" href="ethernet_8c-source.html#l00198">inNE2000()</a>, <a class="el" href="ethernet_8h-source.html#l00118">IOPORT</a>, <a class="el" href="ethernet_8c-source.html#l00118">outNE2000()</a>, <a class="el" href="ethernet_8h-source.html#l00098">RBCR0</a>, <a class="el" href="ethernet_8h-source.html#l00096">RSAR0</a>, and <a class="el" href="ethernet_8h-source.html#l00091">TPSR</a>.    </td>
  </tr>
</table>
<a name="a17" doxytag="ethernet.c::NE2000WriteEthernetHeader"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void NE2000WriteEthernetHeader </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structethernet__frame.html">ethernet_frame</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>frame</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
19.02.2002 </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>frame</em>&nbsp;</td><td>
Pointer to <a class="el" href="structethernet__frame.html">ethernet_frame</a> structure containing information about the new Ethernet frame</td></tr>
</table>
</dl>Invoke this function (through <a class="el" href="system_8h.html#a18">NETWORK_ADD_DATALINK()</a> macro) to create an Ethernet header in the NIC's transmit buffer. Do this only after invoking <a class="el" href="system_8h.html#a17">NETWORK_SEND_INITIALIZE()</a> macro. 
<p>
Definition at line <a class="el" href="ethernet_8c-source.html#l00608">608</a> of file <a class="el" href="ethernet_8c-source.html">ethernet.c</a>.
<p>
References <a class="el" href="ethernet_8h-source.html#l00144">ethernet_frame::destination</a>, <a class="el" href="ethernet_8c-source.html#l00148">outNE2000again()</a>, <a class="el" href="ethernet_8h-source.html#l00155">ethernet_frame::protocol</a>, and <a class="el" href="ethernet_8h-source.html#l00148">ethernet_frame::source</a>.    </td>
  </tr>
</table>
<a name="a18" doxytag="ethernet.c::NE2000DMAInit"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void NE2000DMAInit </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT8&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>page</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
19.02.2002 </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>page</em>&nbsp;</td><td>
Address for the DMA </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="ethernet_8c-source.html#l00639">639</a> of file <a class="el" href="ethernet_8c-source.html">ethernet.c</a>.
<p>
References <a class="el" href="ethernet_8h-source.html#l00085">CR</a>, <a class="el" href="ethernet_8c-source.html#l00118">outNE2000()</a>, <a class="el" href="ethernet_8h-source.html#l00098">RBCR0</a>, and <a class="el" href="ethernet_8h-source.html#l00096">RSAR0</a>.    </td>
  </tr>
</table>
<a name="a19" doxytag="ethernet.c::NE2000DMAInit_position"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void NE2000DMAInit_position </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT16&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>pos</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
19.02.2002 </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>pos</em>&nbsp;</td><td>
Position from the start of current frame from which DMA is initialized.</td></tr>
</table>
</dl>Invoke this function (through <a class="el" href="system_8h.html#a14">NETWORK_RECEIVE_INITIALIZE()</a> macro)  to prepair NIC for reading from the specified position. 
<p>
Definition at line <a class="el" href="ethernet_8c-source.html#l00665">665</a> of file <a class="el" href="ethernet_8c-source.html">ethernet.c</a>.
<p>
References <a class="el" href="config_8h-source.html#l00097">ADRBUS</a>, <a class="el" href="ethernet_8h-source.html#l00085">CR</a>, <a class="el" href="config_8h-source.html#l00094">DATADIR</a>, <a class="el" href="config_8h-source.html#l00085">DDR_IN</a>, <a class="el" href="ethernet_8h-source.html#l00118">IOPORT</a>, <a class="el" href="ethernet_8c-source.html#l00080">NE2000CurrPktPtr</a>, <a class="el" href="ethernet_8c-source.html#l00118">outNE2000()</a>, <a class="el" href="ethernet_8h-source.html#l00098">RBCR0</a>, <a class="el" href="ethernet_8h-source.html#l00096">RSAR0</a>, <a class="el" href="ethernet_8h-source.html#l00124">RXBUF_END</a>, and <a class="el" href="ethernet_8h-source.html#l00123">RXBUF_START</a>.    </td>
  </tr>
</table>
<a name="a20" doxytag="ethernet.c::NE2000SendFrame"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void NE2000SendFrame </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT16&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>len</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
19.02.2002 </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>len</em>&nbsp;</td><td>
Length of packet stored in the NIC's buffer </td></tr>
</table>
</dl><dl compact><dt><b>Warning: </b></dt><dd>
 <ul>
<li> Minimum Ethernet packet size is 64 bytes</ul>
</dl>Invoke this function (through <a class="el" href="system_8h.html#a16">NETWORK_COMPLETE_SEND()</a> macro) when the whole packet is formed inside NIC's memory and is ready to be  sent. Proper length of the packet must be supplied so that NIC knows how much data to put on the line. 
<p>
Definition at line <a class="el" href="ethernet_8c-source.html#l00725">725</a> of file <a class="el" href="ethernet_8c-source.html">ethernet.c</a>.
<p>
References <a class="el" href="ethernet_8h-source.html#l00085">CR</a>, <a class="el" href="ethernet_8c-source.html#l00118">outNE2000()</a>, <a class="el" href="ethernet_8c-source.html#l00148">outNE2000again()</a>, <a class="el" href="ethernet_8h-source.html#l00093">TBCR0</a>, and <a class="el" href="ethernet_8h-source.html#l00094">TBCR1</a>.    </td>
  </tr>
</table>
<a name="a21" doxytag="ethernet.c::NE2000EnterSleep"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void NE2000EnterSleep </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
19.02.2002</dl>Invoke this function to put Ethernet controller to sleep mode. 
<p>
Definition at line <a class="el" href="ethernet_8c-source.html#l00760">760</a> of file <a class="el" href="ethernet_8c-source.html">ethernet.c</a>.
<p>
References <a class="el" href="ethernet_8h-source.html#l00085">CR</a>, <a class="el" href="ethernet_8c-source.html#l00082">EtherSleep</a>, and <a class="el" href="ethernet_8c-source.html#l00118">outNE2000()</a>.    </td>
  </tr>
</table>
<a name="a22" doxytag="ethernet.c::NE2000ExitSleep"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void NE2000ExitSleep </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
19.02.2002</dl>Invoke this function to instruct NE2000 to exit sleep mode and  continue normal operation. 
<p>
Definition at line <a class="el" href="ethernet_8c-source.html#l00779">779</a> of file <a class="el" href="ethernet_8c-source.html">ethernet.c</a>.
<p>
References <a class="el" href="ethernet_8h-source.html#l00085">CR</a>, <a class="el" href="ethernet_8c-source.html#l00082">EtherSleep</a>, and <a class="el" href="ethernet_8c-source.html#l00118">outNE2000()</a>.    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a name="a0" doxytag="ethernet.c::NE2000NextPktPtr"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> UINT8 NE2000NextPktPtr
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Start address of next packet in the Ethernet controller 
<p>
Definition at line <a class="el" href="ethernet_8c-source.html#l00079">79</a> of file <a class="el" href="ethernet_8c-source.html">ethernet.c</a>.
<p>
Referenced by <a class="el" href="ethernet_8c-source.html#l00393">NE2000CheckOverFlow()</a>, <a class="el" href="ethernet_8c-source.html#l00304">NE2000DumpRxFrame()</a>, <a class="el" href="ethernet_8c-source.html#l00327">NE2000Init()</a>, and <a class="el" href="ethernet_8c-source.html#l00482">NE2000ReceiveFrame()</a>.    </td>
  </tr>
</table>
<a name="a1" doxytag="ethernet.c::NE2000CurrPktPtr"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> UINT8 NE2000CurrPktPtr
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Start address of current packet in the Ethernet controller 
<p>
Definition at line <a class="el" href="ethernet_8c-source.html#l00080">80</a> of file <a class="el" href="ethernet_8c-source.html">ethernet.c</a>.
<p>
Referenced by <a class="el" href="ethernet_8c-source.html#l00393">NE2000CheckOverFlow()</a>, <a class="el" href="ethernet_8c-source.html#l00665">NE2000DMAInit_position()</a>, <a class="el" href="ethernet_8c-source.html#l00327">NE2000Init()</a>, and <a class="el" href="ethernet_8c-source.html#l00482">NE2000ReceiveFrame()</a>.    </td>
  </tr>
</table>
<a name="a2" doxytag="ethernet.c::EtherSleep"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> UINT8 EtherSleep = 0
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Used for storing state of Ethernet controller (0 = awake; 1 = sleeping) 
<p>
Definition at line <a class="el" href="ethernet_8c-source.html#l00082">82</a> of file <a class="el" href="ethernet_8c-source.html">ethernet.c</a>.
<p>
Referenced by <a class="el" href="ethernet_8c-source.html#l00760">NE2000EnterSleep()</a>, and <a class="el" href="ethernet_8c-source.html#l00779">NE2000ExitSleep()</a>.    </td>
  </tr>
</table>
<a name="a3" doxytag="ethernet.c::received_frame"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> struct <a class="el" href="structethernet__frame.html">ethernet_frame</a> received_frame
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Fields from Ethernet packet (dest/source hardware address,  protocol, frame size, start of the Ethernet packet in Ethernet controller) are stored in this structure. These values are later used from upper layer protocols (IP, ARP). See <a class="el" href="structethernet__frame.html">ethernet_frame</a> definition for more information about struct fields. 
<p>
Definition at line <a class="el" href="ethernet_8c-source.html#l00093">93</a> of file <a class="el" href="ethernet_8c-source.html">ethernet.c</a>.    </td>
  </tr>
</table>
<a name="a4" doxytag="ethernet.c::send_frame"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> struct <a class="el" href="structethernet__frame.html">ethernet_frame</a> send_frame
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Fields from Ethernet packet (dest/source hardware address,  protocol, frame size) are stored in this structure by the upper layer protocols (IP, ARP, other). These values are  then used for initializing transmission of an Ethernet frame. See <a class="el" href="structethernet__frame.html">ethernet_frame</a> definition for more information about struct fields. 
<p>
Definition at line <a class="el" href="ethernet_8c-source.html#l00105">105</a> of file <a class="el" href="ethernet_8c-source.html">ethernet.c</a>.    </td>
  </tr>
</table>
<hr><address style="align: right;"><small>Generated on Sun Aug 3 20:33:00 2003 for OpenTCP by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.18 </small></address>
</body>
</html>
