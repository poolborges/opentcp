<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>tcp_ip.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; <a class="qindex" href="examples.html">Examples</a> &nbsp; </center>
<hr><h1>/opentcp/include/inet/tcp_ip.h File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
 <dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Version: </b></dt><dd>
1.0 </dl><dl compact><dt><b>Date: </b></dt><dd>
1.2.2002</dl>OpenTCP TCP and UDP protocol function declarations, constants, etc.
<p>

<p>
Definition in file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
<a href="tcp__ip_8h-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Data Structures</h2></td></tr>
<tr><td nowrap align=right valign=top>struct &nbsp;</td><td valign=bottom><a class="el" href="structudp__frame.html">udp_frame</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>UDP header information.</em> <a href="structudp__frame.html#_details">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>struct &nbsp;</td><td valign=bottom><a class="el" href="structucb.html">ucb</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>UDP control block.</em> <a href="structucb.html#_details">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>struct &nbsp;</td><td valign=bottom><a class="el" href="structtcp__frame.html">tcp_frame</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>TCP header information.</em> <a href="structtcp__frame.html#_details">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>struct &nbsp;</td><td valign=bottom><a class="el" href="structtcb.html">tcb</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>TCP transmission control block.</em> <a href="structtcb.html#_details">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="group__opentcp__config.html#a5">NO_OF_TCPSOCKETS</a>&nbsp;&nbsp;&nbsp;8</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Defines number of TCP sockets available.</em> <a href="group__opentcp__config.html#a5"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="group__opentcp__config.html#a6">NO_OF_UDPSOCKETS</a>&nbsp;&nbsp;&nbsp;4</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Defines number of UDP sockets available.</em> <a href="group__opentcp__config.html#a6"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="group__opentcp__config.html#a7">TCP_PORTS_END</a>&nbsp;&nbsp;&nbsp;1023</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Define reserved-ports space.</em> <a href="group__opentcp__config.html#a7"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="group__opentcp__config.html#a8">UDP_PORTS_END</a>&nbsp;&nbsp;&nbsp;1023</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Define reserved-ports space.</em> <a href="group__opentcp__config.html#a8"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a4">UDP_OPT_NONE</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Disable checksum calculation for UDP socket.</em> <a href="#a4"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a5">UDP_OPT_SEND_CS</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Enable checksum calculation for outgoing UDP packets.</em> <a href="#a5"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a6">UDP_OPT_CHECK_CS</a>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Enable checksum checking for received UDP packets.</em> <a href="#a6"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a8">UDP_HLEN</a>&nbsp;&nbsp;&nbsp;8</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="group__opentcp__config.html#a9">TCP_DEF_RETRIES</a>&nbsp;&nbsp;&nbsp;7</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Number of attempted TCP retransmissions before giving up.</em> <a href="group__opentcp__config.html#a9"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="group__opentcp__config.html#a10">TCP_DEF_KEEPALIVE</a>&nbsp;&nbsp;&nbsp;4</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Defines a number of seconds after which an empty ACK packet is sent.</em> <a href="group__opentcp__config.html#a10"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="group__opentcp__config.html#a11">TCP_DEF_RETRY_TOUT</a>&nbsp;&nbsp;&nbsp;4</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Default data-retransmission period (in seconds).</em> <a href="group__opentcp__config.html#a11"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="group__opentcp__config.html#a12">TCP_INIT_RETRY_TOUT</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Initial retransmission period (in seconds).</em> <a href="group__opentcp__config.html#a12"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="group__opentcp__config.html#a13">TCP_SYN_RETRY_TOUT</a>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Retranmission period for SYN packet.</em> <a href="group__opentcp__config.html#a13"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a18">TCP_TOS_NORMAL</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Defines normal type of service for TCP socket.</em> <a href="#a18"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="group__opentcp__config.html#a14">TCP_DEF_TOUT</a>&nbsp;&nbsp;&nbsp;120</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Default idle timeout.</em> <a href="group__opentcp__config.html#a14"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a28">UDP_STATE_FREE</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Defines that UDP socket is free and available.</em> <a href="#a28"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a29">UDP_STATE_CLOSED</a>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Defines that UDP socket is allocated but closed.</em> <a href="#a29"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a30">UDP_STATE_OPENED</a>&nbsp;&nbsp;&nbsp;3</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Defines that UDP socket is allocated and opened.</em> <a href="#a30"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a31">UDP_EVENT_DATA</a>&nbsp;&nbsp;&nbsp;64</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Only UDP event notified to UDP socket event listener.</em> <a href="#a31"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a38">TCP_TYPE_NONE</a>&nbsp;&nbsp;&nbsp;0x00</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>TCP socket is nor a client nor a server.</em> <a href="#a38"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a39">TCP_TYPE_SERVER</a>&nbsp;&nbsp;&nbsp;0x01</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>TCP socket represents a server application.</em> <a href="#a39"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a40">TCP_TYPE_CLIENT</a>&nbsp;&nbsp;&nbsp;0x02</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>TCP socket represents a client application.</em> <a href="#a40"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a41">TCP_TYPE_CLIENT_SERVER</a>&nbsp;&nbsp;&nbsp;0x03</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>TCP socket can act as client or as server.</em> <a href="#a41"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a42">TCP_STATE_FREE</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a43">TCP_STATE_RESERVED</a>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a44">TCP_STATE_CLOSED</a>&nbsp;&nbsp;&nbsp;3</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a45">TCP_STATE_LISTENING</a>&nbsp;&nbsp;&nbsp;4</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a46">TCP_STATE_SYN_RECEIVED</a>&nbsp;&nbsp;&nbsp;5</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a47">TCP_STATE_SYN_SENT</a>&nbsp;&nbsp;&nbsp;6</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a48">TCP_STATE_FINW1</a>&nbsp;&nbsp;&nbsp;7</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a49">TCP_STATE_FINW2</a>&nbsp;&nbsp;&nbsp;8</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a50">TCP_STATE_CLOSING</a>&nbsp;&nbsp;&nbsp;9</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a51">TCP_STATE_LAST_ACK</a>&nbsp;&nbsp;&nbsp;10</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a52">TCP_STATE_TIMED_WAIT</a>&nbsp;&nbsp;&nbsp;11</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a53">TCP_STATE_CONNECTED</a>&nbsp;&nbsp;&nbsp;12</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a54">TCP_EVENT_CONREQ</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Connection request event.</em> <a href="#a54"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a55">TCP_EVENT_CONNECTED</a>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Connection established event.</em> <a href="#a55"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a56">TCP_EVENT_CLOSE</a>&nbsp;&nbsp;&nbsp;4</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Connection closed event.</em> <a href="#a56"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a57">TCP_EVENT_ABORT</a>&nbsp;&nbsp;&nbsp;8</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Connection aborted event.</em> <a href="#a57"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a58">TCP_EVENT_ACK</a>&nbsp;&nbsp;&nbsp;16</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Data acknowledged event.</em> <a href="#a58"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a59">TCP_EVENT_REGENERATE</a>&nbsp;&nbsp;&nbsp;32</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Regenerate data event.</em> <a href="#a59"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a60">TCP_EVENT_DATA</a>&nbsp;&nbsp;&nbsp;64</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Data arrival event.</em> <a href="#a60"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a61">TCP_APP_OFFSET</a>&nbsp;&nbsp;&nbsp;MIN_TCP_HLEN</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Transmit buffer offset for TCP applications.</em> <a href="#a61"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a62">UDP_APP_OFFSET</a>&nbsp;&nbsp;&nbsp;UDP_HLEN</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Transmit buffer offset for UDP applications.</em> <a href="#a62"></a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td nowrap align=right valign=top>INT16&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a63">process_icmp_in</a> (struct <a class="el" href="structip__frame.html">ip_frame</a> *, UINT16)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Process recieved ICMP datagram.</em> <a href="#a63"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>INT8&nbsp;</td><td valign=bottom><a class="el" href="group__core__initializer.html#a4">udp_init</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Initialize UDP socket pool.</em> <a href="group__core__initializer.html#a4"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>INT8&nbsp;</td><td valign=bottom><a class="el" href="group__udp__app__api.html#a0">udp_getsocket</a> (UINT8, INT32(*)(INT8, UINT8, UINT32, UINT16, UINT16, UINT16), UINT8)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Allocate a free socket in UDP socket pool.</em> <a href="group__udp__app__api.html#a0"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>INT8&nbsp;</td><td valign=bottom><a class="el" href="group__udp__app__api.html#a1">udp_releasesocket</a> (INT8)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Release a given socket.</em> <a href="group__udp__app__api.html#a1"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>INT8&nbsp;</td><td valign=bottom><a class="el" href="group__udp__app__api.html#a2">udp_open</a> (INT8, UINT16)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Open a given UDP socket for communication.</em> <a href="group__udp__app__api.html#a2"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>INT8&nbsp;</td><td valign=bottom><a class="el" href="group__udp__app__api.html#a3">udp_close</a> (INT8)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Close given socket for communication.</em> <a href="group__udp__app__api.html#a3"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>INT16&nbsp;</td><td valign=bottom><a class="el" href="group__udp__app__api.html#a4">udp_send</a> (INT8, UINT32, UINT16, UINT8 *, UINT16, UINT16)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Send data to remote host using given UDP socket.</em> <a href="group__udp__app__api.html#a4"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>INT16&nbsp;</td><td valign=bottom><a class="el" href="group__periodic__functions.html#a6">process_udp_in</a> (struct <a class="el" href="structip__frame.html">ip_frame</a> *, UINT16)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Process received UDP frame.</em> <a href="group__periodic__functions.html#a6"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>UINT16&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a71">udp_getfreeport</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns next free (not used) local port number.</em> <a href="#a71"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>INT16&nbsp;</td><td valign=bottom><a class="el" href="group__periodic__functions.html#a5">process_tcp_in</a> (struct <a class="el" href="structip__frame.html">ip_frame</a> *, UINT16)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Check and process the received TCP frame.</em> <a href="group__periodic__functions.html#a5"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>INT16&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a73">process_tcp_out</a> (INT8, UINT8 *, UINT16, UINT16)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Create and send TCP packet.</em> <a href="#a73"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>INT8&nbsp;</td><td valign=bottom><a class="el" href="group__core__initializer.html#a2">tcp_init</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Initialize TCP module.</em> <a href="group__core__initializer.html#a2"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>INT8&nbsp;</td><td valign=bottom><a class="el" href="group__tcp__app__api.html#a2">tcp_listen</a> (INT8, UINT16)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Put TCP socket to listen on a given port.</em> <a href="group__tcp__app__api.html#a2"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>INT8&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a76">tcp_mapsocket</a> (struct <a class="el" href="structip__frame.html">ip_frame</a> *, struct <a class="el" href="structtcp__frame.html">tcp_frame</a> *)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Try to match received TCP packet to a socket.</em> <a href="#a76"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>UINT8&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a77">tcp_check_cs</a> (struct <a class="el" href="structip__frame.html">ip_frame</a> *, UINT16)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Check if TCP checksum check's out.</em> <a href="#a77"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a78">tcp_sendcontrol</a> (INT8)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Send a TCP control packet (no data).</em> <a href="#a78"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>UINT32&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a79">tcp_initseq</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Get and return initial sequence number.</em> <a href="#a79"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__periodic__functions.html#a4">tcp_poll</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Poll TCP sockets periodically.</em> <a href="group__periodic__functions.html#a4"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a81">tcp_newstate</a> (struct <a class="el" href="structtcb.html">tcb</a> *, UINT8)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Change TCP socket state and reinitialize timers.</em> <a href="#a81"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>INT8&nbsp;</td><td valign=bottom><a class="el" href="group__tcp__app__api.html#a0">tcp_getsocket</a> (UINT8, UINT8, UINT16, INT32(*)(INT8, UINT8, UINT32, UINT32))</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Allocate a free socket in TCP socket pool.</em> <a href="group__tcp__app__api.html#a0"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>INT8&nbsp;</td><td valign=bottom><a class="el" href="group__tcp__app__api.html#a1">tcp_releasesocket</a> (INT8)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Release a TCP socket.</em> <a href="group__tcp__app__api.html#a1"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>INT8&nbsp;</td><td valign=bottom><a class="el" href="group__tcp__app__api.html#a3">tcp_connect</a> (INT8, UINT32, UINT16, UINT16)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Initialize connection establishment towards remote IP&amp;port.</em> <a href="group__tcp__app__api.html#a3"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>INT16&nbsp;</td><td valign=bottom><a class="el" href="group__tcp__app__api.html#a4">tcp_send</a> (INT8, UINT8 *, UINT16, UINT16)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Send user data over TCP using given TCP socket.</em> <a href="group__tcp__app__api.html#a4"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>INT8&nbsp;</td><td valign=bottom><a class="el" href="group__tcp__app__api.html#a5">tcp_close</a> (INT8)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Initiate TCP connection closing procedure.</em> <a href="group__tcp__app__api.html#a5"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a87">tcp_sendreset</a> (struct <a class="el" href="structtcp__frame.html">tcp_frame</a> *, UINT32)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Send a reset (RST) packet to remote host.</em> <a href="#a87"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>INT8&nbsp;</td><td valign=bottom><a class="el" href="group__tcp__app__api.html#a6">tcp_getstate</a> (INT8)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Get current state of the socket.</em> <a href="group__tcp__app__api.html#a6"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>UINT16&nbsp;</td><td valign=bottom><a class="el" href="tcp__ip_8h.html#a89">tcp_getfreeport</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns next free (not used) local port number.</em> <a href="#a89"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>INT16&nbsp;</td><td valign=bottom><a class="el" href="group__tcp__app__api.html#a7">tcp_checksend</a> (INT8)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Checks if it's possible to send data using given socket.</em> <a href="group__tcp__app__api.html#a7"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>INT8&nbsp;</td><td valign=bottom><a class="el" href="group__tcp__app__api.html#a8">tcp_abort</a> (INT8)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Reset connection and place socket to closed state.</em> <a href="group__tcp__app__api.html#a8"></a><em></em></font><br><br></td></tr>
</table>
<hr><h2>Define Documentation</h2>
<a name="a4" doxytag="tcp_ip.h::UDP_OPT_NONE"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define UDP_OPT_NONE&nbsp;&nbsp;&nbsp;0
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
By choosing only this option for UDP socket, checksum calculation  will be disabled for both incoming/outgoing UDP packets. This will make UDP extremely fast, but also more prone to errors. This is usually not a big limitation considering that checksum is not so good in error-detection anyway. 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00122">122</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.    </td>
  </tr>
</table>
<a name="a5" doxytag="tcp_ip.h::UDP_OPT_SEND_CS"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define UDP_OPT_SEND_CS&nbsp;&nbsp;&nbsp;1
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
When only this option is chosen, checksum is calculated for outgoing UDP packets. This is sometimes neccessary since certain applications can disable reception of UDP packets without a calculated checksum. 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00132">132</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="bootp_8c-source.html#l00108">bootpc_init()</a>, <a class="el" href="dhcpc_8c-source.html#l00158">dhcpc_init()</a>, <a class="el" href="dns_8c-source.html#l00108">dns_init()</a>, <a class="el" href="tftps_8c-source.html#l00136">tftps_init()</a>, <a class="el" href="udp_8c-source.html#l00175">udp_getsocket()</a>, <a class="el" href="udp_8c-source.html#l00118">udp_init()</a>, <a class="el" href="udp_8c-source.html#l00244">udp_releasesocket()</a>, and <a class="el" href="udp_8c-source.html#l00395">udp_send()</a>.    </td>
  </tr>
</table>
<a name="a6" doxytag="tcp_ip.h::UDP_OPT_CHECK_CS"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define UDP_OPT_CHECK_CS&nbsp;&nbsp;&nbsp;2
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
When this option is enabled, checksum is checked for all received UDP packets to check for transmission errors. 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00140">140</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="bootp_8c-source.html#l00108">bootpc_init()</a>, <a class="el" href="dhcpc_8c-source.html#l00158">dhcpc_init()</a>, <a class="el" href="dns_8c-source.html#l00108">dns_init()</a>, <a class="el" href="udp_8c-source.html#l00550">process_udp_in()</a>, <a class="el" href="tftps_8c-source.html#l00136">tftps_init()</a>, <a class="el" href="udp_8c-source.html#l00175">udp_getsocket()</a>, <a class="el" href="udp_8c-source.html#l00118">udp_init()</a>, and <a class="el" href="udp_8c-source.html#l00244">udp_releasesocket()</a>.    </td>
  </tr>
</table>
<a name="a8" doxytag="tcp_ip.h::UDP_HLEN"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define UDP_HLEN&nbsp;&nbsp;&nbsp;8
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
UDP Header Length 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00144">144</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="udp_8c-source.html#l00550">process_udp_in()</a>, and <a class="el" href="udp_8c-source.html#l00395">udp_send()</a>.    </td>
  </tr>
</table>
<a name="a18" doxytag="tcp_ip.h::TCP_TOS_NORMAL"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TCP_TOS_NORMAL&nbsp;&nbsp;&nbsp;0
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This defines normal (and for now the only one implemented) type of service for the TCP socket. 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00214">214</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="http__server_8c-source.html#l00093">https_init()</a>, <a class="el" href="pop3__client_8c-source.html#l00148">pop3c_init()</a>, and <a class="el" href="smtp__client_8c-source.html#l00155">smtpc_init()</a>.    </td>
  </tr>
</table>
<a name="a28" doxytag="tcp_ip.h::UDP_STATE_FREE"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define UDP_STATE_FREE&nbsp;&nbsp;&nbsp;1
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
If an entry of ucb type has this as a state value, then it is free and can be allocated by the <a class="el" href="group__udp__app__api.html#a0">udp_getsocket()</a>. 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00249">249</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="udp_8c-source.html#l00175">udp_getsocket()</a>, <a class="el" href="udp_8c-source.html#l00118">udp_init()</a>, and <a class="el" href="udp_8c-source.html#l00244">udp_releasesocket()</a>.    </td>
  </tr>
</table>
<a name="a29" doxytag="tcp_ip.h::UDP_STATE_CLOSED"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define UDP_STATE_CLOSED&nbsp;&nbsp;&nbsp;2
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Entries of ucb type that have this as their state value were allocated by <a class="el" href="group__udp__app__api.html#a0">udp_getsocket()</a> but they are in the closed state, so no data can be received/sent through the socket. 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00258">258</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="udp_8c-source.html#l00340">udp_close()</a>, <a class="el" href="udp_8c-source.html#l00684">udp_getfreeport()</a>, and <a class="el" href="udp_8c-source.html#l00175">udp_getsocket()</a>.    </td>
  </tr>
</table>
<a name="a30" doxytag="tcp_ip.h::UDP_STATE_OPENED"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define UDP_STATE_OPENED&nbsp;&nbsp;&nbsp;3
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Corresponding UDP socket was allocated and opened so data can be transmitted/received through it. 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00266">266</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="udp_8c-source.html#l00550">process_udp_in()</a>, <a class="el" href="udp_8c-source.html#l00291">udp_open()</a>, and <a class="el" href="udp_8c-source.html#l00395">udp_send()</a>.    </td>
  </tr>
</table>
<a name="a31" doxytag="tcp_ip.h::UDP_EVENT_DATA"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define UDP_EVENT_DATA&nbsp;&nbsp;&nbsp;64
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
For now, this is the only UDP event that is notified to the UDP sockets' event listener. 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00276">276</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="dhcpc_8c-source.html#l00568">dhcpc_eventlistener()</a>, <a class="el" href="dns_8c-source.html#l00205">dns_eventlistener()</a>, and <a class="el" href="udp_8c-source.html#l00550">process_udp_in()</a>.    </td>
  </tr>
</table>
<a name="a38" doxytag="tcp_ip.h::TCP_TYPE_NONE"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TCP_TYPE_NONE&nbsp;&nbsp;&nbsp;0x00
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
If TCP socket entry is of this type it can not be used for anything.  This may only be used for testing, debugging, etc. purposes or if  application is not sure what it wants to be it can reserve a TCP  socket by getting a socket of type TCP_TYPE_NONE. 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00300">300</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l00155">tcp_getsocket()</a>, <a class="el" href="tcp_8c-source.html#l01154">tcp_init()</a>, and <a class="el" href="tcp_8c-source.html#l00228">tcp_releasesocket()</a>.    </td>
  </tr>
</table>
<a name="a39" doxytag="tcp_ip.h::TCP_TYPE_SERVER"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TCP_TYPE_SERVER&nbsp;&nbsp;&nbsp;0x01
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
If TCP socket entry is of server type, application using it can only listen on a given socket for incoming connections. No connections can be opened towards some outside host unless the outside host initiates the connection. 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00310">310</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="http__server_8c-source.html#l00093">https_init()</a>, <a class="el" href="tcp_8c-source.html#l01250">process_tcp_in()</a>, <a class="el" href="tcp_8c-source.html#l00155">tcp_getsocket()</a>, <a class="el" href="tcp_8c-source.html#l00290">tcp_listen()</a>, and <a class="el" href="tcp_8c-source.html#l00808">tcp_poll()</a>.    </td>
  </tr>
</table>
<a name="a40" doxytag="tcp_ip.h::TCP_TYPE_CLIENT"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TCP_TYPE_CLIENT&nbsp;&nbsp;&nbsp;0x02
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
If TCP socket entry is of client type, application using it can establish connection through it towards other Internet hosts but can not accept any incoming connections on the port (execute <a class="el" href="group__tcp__app__api.html#a2">tcp_listen()</a> on it that is). 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00320">320</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="pop3__client_8c-source.html#l00148">pop3c_init()</a>, <a class="el" href="smtp__client_8c-source.html#l00155">smtpc_init()</a>, <a class="el" href="tcp_8c-source.html#l00377">tcp_connect()</a>, and <a class="el" href="tcp_8c-source.html#l00155">tcp_getsocket()</a>.    </td>
  </tr>
</table>
<a name="a41" doxytag="tcp_ip.h::TCP_TYPE_CLIENT_SERVER"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TCP_TYPE_CLIENT_SERVER&nbsp;&nbsp;&nbsp;0x03
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
If TCP socket entry is of this type, application using it can  both listen on a given socket or establish connection towards an outside host. 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00329">329</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l00155">tcp_getsocket()</a>.    </td>
  </tr>
</table>
<a name="a42" doxytag="tcp_ip.h::TCP_STATE_FREE"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TCP_STATE_FREE&nbsp;&nbsp;&nbsp;1
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Entry is free and unused 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00333">333</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l01250">process_tcp_in()</a>, <a class="el" href="tcp_8c-source.html#l00736">tcp_abort()</a>, <a class="el" href="tcp_8c-source.html#l00155">tcp_getsocket()</a>, <a class="el" href="tcp_8c-source.html#l01154">tcp_init()</a>, <a class="el" href="tcp_8c-source.html#l00808">tcp_poll()</a>, and <a class="el" href="tcp_8c-source.html#l00228">tcp_releasesocket()</a>.    </td>
  </tr>
</table>
<a name="a43" doxytag="tcp_ip.h::TCP_STATE_RESERVED"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TCP_STATE_RESERVED&nbsp;&nbsp;&nbsp;2
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Entry is reserved for use 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00334">334</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l00736">tcp_abort()</a>, <a class="el" href="tcp_8c-source.html#l00377">tcp_connect()</a>, <a class="el" href="tcp_8c-source.html#l00155">tcp_getsocket()</a>, <a class="el" href="tcp_8c-source.html#l00290">tcp_listen()</a>, <a class="el" href="tcp_8c-source.html#l00808">tcp_poll()</a>, and <a class="el" href="tcp_8c-source.html#l00228">tcp_releasesocket()</a>.    </td>
  </tr>
</table>
<a name="a44" doxytag="tcp_ip.h::TCP_STATE_CLOSED"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TCP_STATE_CLOSED&nbsp;&nbsp;&nbsp;3
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Entry allocated, socket still closed 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00335">335</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l01250">process_tcp_in()</a>, <a class="el" href="tcp_8c-source.html#l00736">tcp_abort()</a>, <a class="el" href="tcp_8c-source.html#l00549">tcp_close()</a>, <a class="el" href="tcp_8c-source.html#l00377">tcp_connect()</a>, <a class="el" href="tcp_8c-source.html#l02511">tcp_getfreeport()</a>, <a class="el" href="tcp_8c-source.html#l00290">tcp_listen()</a>, <a class="el" href="tcp_8c-source.html#l00808">tcp_poll()</a>, and <a class="el" href="tcp_8c-source.html#l00228">tcp_releasesocket()</a>.    </td>
  </tr>
</table>
<a name="a45" doxytag="tcp_ip.h::TCP_STATE_LISTENING"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TCP_STATE_LISTENING&nbsp;&nbsp;&nbsp;4
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Socket in listening state, waiting for incoming connections 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00336">336</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l01250">process_tcp_in()</a>, <a class="el" href="tcp_8c-source.html#l00736">tcp_abort()</a>, <a class="el" href="tcp_8c-source.html#l00549">tcp_close()</a>, <a class="el" href="tcp_8c-source.html#l00377">tcp_connect()</a>, <a class="el" href="tcp_8c-source.html#l00290">tcp_listen()</a>, <a class="el" href="tcp_8c-source.html#l02369">tcp_mapsocket()</a>, and <a class="el" href="tcp_8c-source.html#l00808">tcp_poll()</a>.    </td>
  </tr>
</table>
<a name="a46" doxytag="tcp_ip.h::TCP_STATE_SYN_RECEIVED"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TCP_STATE_SYN_RECEIVED&nbsp;&nbsp;&nbsp;5
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
SYN packet received (either first SYN packet or response to SYN that we have previously sent) 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00339">339</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l01250">process_tcp_in()</a>, <a class="el" href="tcp_8c-source.html#l00736">tcp_abort()</a>, <a class="el" href="tcp_8c-source.html#l00549">tcp_close()</a>, and <a class="el" href="tcp_8c-source.html#l00808">tcp_poll()</a>.    </td>
  </tr>
</table>
<a name="a47" doxytag="tcp_ip.h::TCP_STATE_SYN_SENT"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TCP_STATE_SYN_SENT&nbsp;&nbsp;&nbsp;6
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
SYN packet sent as an attempt to establish a connection 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00343">343</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l01250">process_tcp_in()</a>, <a class="el" href="tcp_8c-source.html#l00736">tcp_abort()</a>, <a class="el" href="tcp_8c-source.html#l00549">tcp_close()</a>, <a class="el" href="tcp_8c-source.html#l00377">tcp_connect()</a>, <a class="el" href="tcp_8c-source.html#l02455">tcp_newstate()</a>, and <a class="el" href="tcp_8c-source.html#l00808">tcp_poll()</a>.    </td>
  </tr>
</table>
<a name="a48" doxytag="tcp_ip.h::TCP_STATE_FINW1"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TCP_STATE_FINW1&nbsp;&nbsp;&nbsp;7
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
User issued tcp_close request issued so FIN packet was sent 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00346">346</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l01250">process_tcp_in()</a>, <a class="el" href="tcp_8c-source.html#l00736">tcp_abort()</a>, <a class="el" href="tcp_8c-source.html#l00549">tcp_close()</a>, <a class="el" href="tcp_8c-source.html#l02455">tcp_newstate()</a>, and <a class="el" href="tcp_8c-source.html#l00808">tcp_poll()</a>.    </td>
  </tr>
</table>
<a name="a49" doxytag="tcp_ip.h::TCP_STATE_FINW2"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TCP_STATE_FINW2&nbsp;&nbsp;&nbsp;8
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Received ACK of our FIN, now waiting for other side to send FIN 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00349">349</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l01250">process_tcp_in()</a>, <a class="el" href="tcp_8c-source.html#l00736">tcp_abort()</a>, <a class="el" href="tcp_8c-source.html#l00549">tcp_close()</a>, <a class="el" href="tcp_8c-source.html#l02455">tcp_newstate()</a>, and <a class="el" href="tcp_8c-source.html#l00808">tcp_poll()</a>.    </td>
  </tr>
</table>
<a name="a50" doxytag="tcp_ip.h::TCP_STATE_CLOSING"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TCP_STATE_CLOSING&nbsp;&nbsp;&nbsp;9
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Received FIN independently of  our FIN 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00353">353</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l01250">process_tcp_in()</a>, <a class="el" href="tcp_8c-source.html#l00736">tcp_abort()</a>, <a class="el" href="tcp_8c-source.html#l00549">tcp_close()</a>, <a class="el" href="tcp_8c-source.html#l02455">tcp_newstate()</a>, and <a class="el" href="tcp_8c-source.html#l00808">tcp_poll()</a>.    </td>
  </tr>
</table>
<a name="a51" doxytag="tcp_ip.h::TCP_STATE_LAST_ACK"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TCP_STATE_LAST_ACK&nbsp;&nbsp;&nbsp;10
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Waiting for last ACK packet as a  response to our FIN 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00356">356</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l01250">process_tcp_in()</a>, <a class="el" href="tcp_8c-source.html#l00736">tcp_abort()</a>, <a class="el" href="tcp_8c-source.html#l00549">tcp_close()</a>, <a class="el" href="tcp_8c-source.html#l02455">tcp_newstate()</a>, and <a class="el" href="tcp_8c-source.html#l00808">tcp_poll()</a>.    </td>
  </tr>
</table>
<a name="a52" doxytag="tcp_ip.h::TCP_STATE_TIMED_WAIT"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TCP_STATE_TIMED_WAIT&nbsp;&nbsp;&nbsp;11
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Waiting for 2MSL to prevent erroneous connection duplication 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00359">359</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l01250">process_tcp_in()</a>, <a class="el" href="tcp_8c-source.html#l00736">tcp_abort()</a>, <a class="el" href="tcp_8c-source.html#l00549">tcp_close()</a>, <a class="el" href="tcp_8c-source.html#l00290">tcp_listen()</a>, <a class="el" href="tcp_8c-source.html#l02455">tcp_newstate()</a>, and <a class="el" href="tcp_8c-source.html#l00808">tcp_poll()</a>.    </td>
  </tr>
</table>
<a name="a53" doxytag="tcp_ip.h::TCP_STATE_CONNECTED"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TCP_STATE_CONNECTED&nbsp;&nbsp;&nbsp;12
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Connection established and data flowing freely to both sides :-) 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00362">362</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l01250">process_tcp_in()</a>, <a class="el" href="tcp_8c-source.html#l00736">tcp_abort()</a>, <a class="el" href="tcp_8c-source.html#l00690">tcp_checksend()</a>, <a class="el" href="tcp_8c-source.html#l00549">tcp_close()</a>, <a class="el" href="tcp_8c-source.html#l02455">tcp_newstate()</a>, <a class="el" href="tcp_8c-source.html#l00808">tcp_poll()</a>, and <a class="el" href="tcp_8c-source.html#l00481">tcp_send()</a>.    </td>
  </tr>
</table>
<a name="a54" doxytag="tcp_ip.h::TCP_EVENT_CONREQ"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TCP_EVENT_CONREQ&nbsp;&nbsp;&nbsp;1
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Connection request event is notified to TCP server applications' event listener when SYN packet is received for it's socket. Event listener can then, if it wants to, inspect IP addres and port number of the remote host, or some other internal parameters, to decide whether it should allow connection establishment or not. One of the following values must then be returned from the event listener: <ul>
<li> -1 - do not allow connection to be established. RST packet will be sent to remote host. <li> -2 - do not respond to this particular SYN packet (keep quiet). This may be used if device is somehow busy and not yet ready to establish a connection, but doesn't wan't to forcefully reject the connection with a RST packet. <li> 1 - allow connection to be established </ul>

<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00387">387</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l01250">process_tcp_in()</a>.    </td>
  </tr>
</table>
<a name="a55" doxytag="tcp_ip.h::TCP_EVENT_CONNECTED"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TCP_EVENT_CONNECTED&nbsp;&nbsp;&nbsp;2
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Applications' event listener is informed by this event that connection is established and that it may start sending/receiving data. 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00397">397</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l01250">process_tcp_in()</a>.    </td>
  </tr>
</table>
<a name="a56" doxytag="tcp_ip.h::TCP_EVENT_CLOSE"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TCP_EVENT_CLOSE&nbsp;&nbsp;&nbsp;4
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
TCP connection was properly closed (either by calling <a class="el" href="group__tcp__app__api.html#a5">tcp_close()</a> by application or remote host initialized closing sequence). 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00405">405</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l01250">process_tcp_in()</a>, and <a class="el" href="tcp_8c-source.html#l00808">tcp_poll()</a>.    </td>
  </tr>
</table>
<a name="a57" doxytag="tcp_ip.h::TCP_EVENT_ABORT"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TCP_EVENT_ABORT&nbsp;&nbsp;&nbsp;8
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Connection is, for some reason, aborted. This can happen for a number of reasons: <ul>
<li> Data retransmissions performed sufficient number of times but no acknowledgment was received <li> No response for some time to keep-alive packets <li> Remote host forcefully closed the connection for some reason <li> Application invoked <a class="el" href="group__tcp__app__api.html#a8">tcp_abort()</a> function </ul>

<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00418">418</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l01250">process_tcp_in()</a>, and <a class="el" href="tcp_8c-source.html#l00808">tcp_poll()</a>.    </td>
  </tr>
</table>
<a name="a58" doxytag="tcp_ip.h::TCP_EVENT_ACK"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TCP_EVENT_ACK&nbsp;&nbsp;&nbsp;16
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
TCP/IP stack has received correct acknowledgment packet for the  previously sent data and is informing the application about it. After this event, application can send new data packet to remote host. 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00428">428</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l01250">process_tcp_in()</a>.    </td>
  </tr>
</table>
<a name="a59" doxytag="tcp_ip.h::TCP_EVENT_REGENERATE"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TCP_EVENT_REGENERATE&nbsp;&nbsp;&nbsp;32
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Previously sent data packet was not acknowledged (or the acknowledgment packet did not arrive) so retransmission needs to be peformed. Application must resend the data that was sent in the previous packet. 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00437">437</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l00808">tcp_poll()</a>.    </td>
  </tr>
</table>
<a name="a60" doxytag="tcp_ip.h::TCP_EVENT_DATA"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TCP_EVENT_DATA&nbsp;&nbsp;&nbsp;64
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
TCP received some data from remote host and is informing application that it is available for reading from the Ethernet controller. 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00445">445</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l01250">process_tcp_in()</a>.    </td>
  </tr>
</table>
<a name="a61" doxytag="tcp_ip.h::TCP_APP_OFFSET"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TCP_APP_OFFSET&nbsp;&nbsp;&nbsp;MIN_TCP_HLEN
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This value defines offset that TCP applications must use when writing to transmit buffer. This many bytes will be used <b>before</b> the first byte of applications data in the  transmit buffer to store TCP header. 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00459">459</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="smtp__client_8c-source.html#l00155">smtpc_init()</a>.    </td>
  </tr>
</table>
<a name="a62" doxytag="tcp_ip.h::UDP_APP_OFFSET"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define UDP_APP_OFFSET&nbsp;&nbsp;&nbsp;UDP_HLEN
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This value defines offset that UDP applications must use when writing to transmit buffer. This many bytes will be used <b>before</b> the first byte of applications data in the  transmit buffer to store UDP header. 
<p>
Definition at line <a class="el" href="tcp__ip_8h-source.html#l00471">471</a> of file <a class="el" href="tcp__ip_8h-source.html">tcp_ip.h</a>.
<p>
Referenced by <a class="el" href="bootp_8c-source.html#l00183">bootpc_run()</a>, <a class="el" href="dhcpc_8c-source.html#l00389">dhcpc_send_message()</a>, and <a class="el" href="dns_8c-source.html#l00445">get_host_by_name()</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a name="a63" doxytag="tcp_ip.h::process_icmp_in"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> INT16 process_icmp_in </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structip__frame.html">ip_frame</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>frame</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>UINT16&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>len</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
08.07.2002 </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>frame</em>&nbsp;</td><td>
- pointer to received IP frame structure </td></tr>
<tr><td valign=top><em>len</em>&nbsp;</td><td>
- length of the received IP datagram (in bytes) </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
 <ul>
<li> -1 - packet not OK (not proper ICMP or not ICMP at all) <li> &gt;=0 - packet OK</ul>
</dl>Invoke process_icmp_in whenever IP datagram containing ICMP message is detected (see <a class="el" href="main__demo_8c.html">main_demo.c</a> for example main loop implementing this).
<p>
This function simply checks correctnes of received ICMP message and send ICMP replies when requested. 
<p>
Definition at line <a class="el" href="icmp_8c-source.html#l00097">97</a> of file <a class="el" href="icmp_8c-source.html">icmp.c</a>.
<p>
References <a class="el" href="ip_8h-source.html#l00126">ip_frame::buf_index</a>, <a class="el" href="ip_8h-source.html#l00124">ip_frame::dip</a>, <a class="el" href="ip_8c-source.html#l00539">ip_checksum()</a>, <a class="el" href="ip_8c-source.html#l00582">ip_checksum_buf()</a>, <a class="el" href="ip_8h-source.html#l00072">IP_ICMP</a>, <a class="el" href="system_8h-source.html#l00270">NETWORK_RECEIVE_INITIALIZE</a>, <a class="el" href="system_8h-source.html#l00091">NETWORK_TX_BUFFER_SIZE</a>, <a class="el" href="ip_8c-source.html#l00300">process_ip_out()</a>, <a class="el" href="ip_8h-source.html#l00121">ip_frame::protocol</a>, <a class="el" href="system_8h-source.html#l00210">RECEIVE_NETWORK_B</a>, <a class="el" href="system_8h-source.html#l00220">RECEIVE_NETWORK_BUF</a>, <a class="el" href="ip_8h-source.html#l00123">ip_frame::sip</a>, and <a class="el" href="system_8h-source.html#l00151">TXBUF</a>.    </td>
  </tr>
</table>
<a name="a71" doxytag="tcp_ip.h::udp_getfreeport"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> UINT16 udp_getfreeport </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
19.10.2002 </dl><dl compact><dt><b>Returns: </b></dt><dd>
 <ul>
<li> 0 - no free ports! <li> &gt;0 - free local TCP port number</ul>
</dl>Function attempts to find new local port number that can be used to  establish a connection. 
<p>
Definition at line <a class="el" href="udp_8c-source.html#l00684">684</a> of file <a class="el" href="udp_8c-source.html">udp.c</a>.
<p>
References <a class="el" href="tcp__ip_8h-source.html#l00525">ucb::locport</a>, <a class="el" href="tcp__ip_8h-source.html#l00516">ucb::state</a>, <a class="el" href="tcp__ip_8h-source.html#l00109">UDP_PORTS_END</a>, and <a class="el" href="tcp__ip_8h-source.html#l00258">UDP_STATE_CLOSED</a>.
<p>
Referenced by <a class="el" href="udp_8c-source.html#l00291">udp_open()</a>.    </td>
  </tr>
</table>
<a name="a73" doxytag="tcp_ip.h::process_tcp_out"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> INT16 process_tcp_out </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">INT8&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>sockethandle</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>UINT8 *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>buf</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>UINT16&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>blen</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>UINT16&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>dlen</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
16.07.2002 </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>sockethandle</em>&nbsp;</td><td>
handle to processed socket </td></tr>
<tr><td valign=top><em>buf</em>&nbsp;</td><td>
pointer to data buffer (where TCP header will be stored) </td></tr>
<tr><td valign=top><em>blen</em>&nbsp;</td><td>
buffer length in bytes </td></tr>
<tr><td valign=top><em>dlen</em>&nbsp;</td><td>
length of data in bytes </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
 <ul>
<li> -1 - Error <li> &gt;0 - Packet OK</ul>
</dl>Based on data supplied as function parameters and data stored in  socket's tcb, TCP header is created in buffer, checksum is calculated and packet is forwarded to lower layers (IP). 
<p>
Definition at line <a class="el" href="tcp_8c-source.html#l02119">2119</a> of file <a class="el" href="tcp_8c-source.html">tcp.c</a>.
<p>
References <a class="el" href="ip_8c-source.html#l00539">ip_checksum()</a>, <a class="el" href="ip_8c-source.html#l00582">ip_checksum_buf()</a>, <a class="el" href="ip_8h-source.html#l00074">IP_TCP</a>, <a class="el" href="tcp__ip_8h-source.html#l00625">tcb::locport</a>, <a class="el" href="tcp__ip_8h-source.html#l00627">tcb::myflags</a>, <a class="el" href="ip_8c-source.html#l00300">process_ip_out()</a>, <a class="el" href="tcp__ip_8h-source.html#l00632">tcb::receive_next</a>, <a class="el" href="tcp__ip_8h-source.html#l00623">tcb::rem_ip</a>, <a class="el" href="tcp__ip_8h-source.html#l00624">tcb::remport</a>, <a class="el" href="tcp__ip_8h-source.html#l00629">tcb::send_mtu</a>, <a class="el" href="tcp__ip_8h-source.html#l00626">tcb::send_unacked</a>, and <a class="el" href="tcp__ip_8h-source.html#l00631">tcb::tos</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l00481">tcp_send()</a>, and <a class="el" href="tcp_8c-source.html#l02253">tcp_sendcontrol()</a>.    </td>
  </tr>
</table>
<a name="a76" doxytag="tcp_ip.h::tcp_mapsocket"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> INT8 tcp_mapsocket </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structip__frame.html">ip_frame</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>ipframe</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>struct <a class="el" href="structtcp__frame.html">tcp_frame</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>tcpframe</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
12.07.2002 </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>ipframe</em>&nbsp;</td><td>
pointer to received IP frame </td></tr>
<tr><td valign=top><em>tcpframe</em>&nbsp;</td><td>
pointer to received TCP frame to be mapped </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
 <ul>
<li> -1 - Error (no resources or no socket found) <li> &gt;=0 - Handle to mapped socket</ul>
</dl>Function iterates through socket table trying to find a socket for  whom this TCP packet is intended. 
<p>
Definition at line <a class="el" href="tcp_8c-source.html#l02369">2369</a> of file <a class="el" href="tcp_8c-source.html">tcp.c</a>.
<p>
References <a class="el" href="tcp__ip_8h-source.html#l00567">tcp_frame::dport</a>, <a class="el" href="tcp__ip_8h-source.html#l00570">tcp_frame::hlen_flags</a>, <a class="el" href="tcp__ip_8h-source.html#l00625">tcb::locport</a>, <a class="el" href="tcp__ip_8h-source.html#l00623">tcb::rem_ip</a>, <a class="el" href="tcp__ip_8h-source.html#l00624">tcb::remport</a>, <a class="el" href="ip_8h-source.html#l00123">ip_frame::sip</a>, <a class="el" href="tcp__ip_8h-source.html#l00566">tcp_frame::sport</a>, <a class="el" href="tcp__ip_8h-source.html#l00609">tcb::state</a>, and <a class="el" href="tcp__ip_8h-source.html#l00336">TCP_STATE_LISTENING</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l01250">process_tcp_in()</a>.    </td>
  </tr>
</table>
<a name="a77" doxytag="tcp_ip.h::tcp_check_cs"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> UINT8 tcp_check_cs </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structip__frame.html">ip_frame</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>ipframe</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>UINT16&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>len</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
16.07.2002 </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>ipframe</em>&nbsp;</td><td>
pointer to IP frame that carried TCP message </td></tr>
<tr><td valign=top><em>len</em>&nbsp;</td><td>
length of TCP portion  </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
 <ul>
<li> 0 - checksum corrupted <li> 1 - checksum OK</ul>
</dl>Function recalculates TCP checksum (pseudoheader+header+data) and  compares it to received checksum to see if everything is OK or there  is a problem with the checksum. 
<p>
Definition at line <a class="el" href="tcp_8c-source.html#l02567">2567</a> of file <a class="el" href="tcp_8c-source.html">tcp.c</a>.
<p>
References <a class="el" href="ip_8h-source.html#l00124">ip_frame::dip</a>, <a class="el" href="ip_8c-source.html#l00539">ip_checksum()</a>, <a class="el" href="ip_8c-source.html#l00582">ip_checksum_buf()</a>, <a class="el" href="ip_8h-source.html#l00121">ip_frame::protocol</a>, <a class="el" href="system_8h-source.html#l00210">RECEIVE_NETWORK_B</a>, <a class="el" href="system_8h-source.html#l00220">RECEIVE_NETWORK_BUF</a>, <a class="el" href="ip_8h-source.html#l00123">ip_frame::sip</a>, and <a class="el" href="tcp_8c-source.html#l00120">tcp_tempbuf</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l01250">process_tcp_in()</a>.    </td>
  </tr>
</table>
<a name="a78" doxytag="tcp_ip.h::tcp_sendcontrol"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void tcp_sendcontrol </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">INT8&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>sockethandle</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
17.07.2002 </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>sockethandle</em>&nbsp;</td><td>
handle to socket</td></tr>
</table>
</dl>This function is used to initiate sending of a control (no data) TCP  packet. Important thing in these packets are the flags and sequence numbers they carry. 
<p>
Definition at line <a class="el" href="tcp_8c-source.html#l02253">2253</a> of file <a class="el" href="tcp_8c-source.html">tcp.c</a>.
<p>
References <a class="el" href="tcp_8c-source.html#l02119">process_tcp_out()</a>, and <a class="el" href="tcp_8c-source.html#l00120">tcp_tempbuf</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l01250">process_tcp_in()</a>, <a class="el" href="tcp_8c-source.html#l00736">tcp_abort()</a>, <a class="el" href="tcp_8c-source.html#l00549">tcp_close()</a>, <a class="el" href="tcp_8c-source.html#l00377">tcp_connect()</a>, <a class="el" href="tcp_8c-source.html#l00808">tcp_poll()</a>, and <a class="el" href="tcp_8c-source.html#l02294">tcp_sendreset()</a>.    </td>
  </tr>
</table>
<a name="a79" doxytag="tcp_ip.h::tcp_initseq"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> UINT32 tcp_initseq </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
17.07.2002 </dl><dl compact><dt><b>Returns: </b></dt><dd>
UINT32 number containing initial sequence number to be used</dl>This function returns initial sequence number to be used in a TCP  connection. For now, initial sequence number is selected based on base_timer value, which should be solid enough choice. 
<p>
Definition at line <a class="el" href="tcp_8c-source.html#l02346">2346</a> of file <a class="el" href="tcp_8c-source.html">tcp.c</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l01250">process_tcp_in()</a>, and <a class="el" href="tcp_8c-source.html#l00377">tcp_connect()</a>.    </td>
  </tr>
</table>
<a name="a81" doxytag="tcp_ip.h::tcp_newstate"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void tcp_newstate </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structtcb.html">tcb</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>soc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>UINT8&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>nstate</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
18.07.2002 </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>soc</em>&nbsp;</td><td>
pointer to socket structure we're working with </td></tr>
<tr><td valign=top><em>nstate</em>&nbsp;</td><td>
new socket state</td></tr>
</table>
</dl>This function is used for every state-change that occurs in the TCP sockets so as to provide correct timers/retransmittions that ensure TCP connection is lasting. 
<p>
Definition at line <a class="el" href="tcp_8c-source.html#l02455">2455</a> of file <a class="el" href="tcp_8c-source.html">tcp.c</a>.
<p>
References <a class="el" href="timers_8c-source.html#l00194">init_timer()</a>, <a class="el" href="tcp__ip_8h-source.html#l00633">tcb::persist_timerh</a>, <a class="el" href="tcp__ip_8h-source.html#l00634">tcb::retransmit_timerh</a>, <a class="el" href="tcp__ip_8h-source.html#l00635">tcb::retries_left</a>, <a class="el" href="tcp__ip_8h-source.html#l00609">tcb::state</a>, <a class="el" href="tcp__ip_8h-source.html#l00160">TCP_DEF_RETRIES</a>, <a class="el" href="tcp__ip_8h-source.html#l00189">TCP_DEF_RETRY_TOUT</a>, <a class="el" href="tcp__ip_8h-source.html#l00198">TCP_INIT_RETRY_TOUT</a>, <a class="el" href="tcp__ip_8h-source.html#l00353">TCP_STATE_CLOSING</a>, <a class="el" href="tcp__ip_8h-source.html#l00362">TCP_STATE_CONNECTED</a>, <a class="el" href="tcp__ip_8h-source.html#l00346">TCP_STATE_FINW1</a>, <a class="el" href="tcp__ip_8h-source.html#l00349">TCP_STATE_FINW2</a>, <a class="el" href="tcp__ip_8h-source.html#l00356">TCP_STATE_LAST_ACK</a>, <a class="el" href="tcp__ip_8h-source.html#l00343">TCP_STATE_SYN_SENT</a>, <a class="el" href="tcp__ip_8h-source.html#l00359">TCP_STATE_TIMED_WAIT</a>, <a class="el" href="timers_8h-source.html#l00086">TIMERTIC</a>, and <a class="el" href="tcp__ip_8h-source.html#l00630">tcb::tout</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l01250">process_tcp_in()</a>, <a class="el" href="tcp_8c-source.html#l00736">tcp_abort()</a>, <a class="el" href="tcp_8c-source.html#l00549">tcp_close()</a>, <a class="el" href="tcp_8c-source.html#l00377">tcp_connect()</a>, and <a class="el" href="tcp_8c-source.html#l00808">tcp_poll()</a>.    </td>
  </tr>
</table>
<a name="a87" doxytag="tcp_ip.h::tcp_sendreset"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void tcp_sendreset </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structtcp__frame.html">tcp_frame</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>frame</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>UINT32&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>remip</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) <li> Vladan Jovanovic (<a href="mailto:vladan.jovanovic@violasystems.com">vladan.jovanovic@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
20.08.2002 </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>frame</em>&nbsp;</td><td>
pointer to received TCP packet </td></tr>
<tr><td valign=top><em>remip</em>&nbsp;</td><td>
remote IP address of packet</td></tr>
</table>
</dl>Uses socket <a class="el" href="group__opentcp__config.html#a5">NO_OF_TCPSOCKETS</a> to send a RESET packet to peer.  This function is used when we are establishing connection but we receive something else than SYN or SYN+ACK when it's possible that the peer has still old connection on which needs to be resetted without canceling the connection establishment on process. 
<p>
Definition at line <a class="el" href="tcp_8c-source.html#l02294">2294</a> of file <a class="el" href="tcp_8c-source.html">tcp.c</a>.
<p>
References <a class="el" href="tcp__ip_8h-source.html#l00569">tcp_frame::ackno</a>, <a class="el" href="tcp__ip_8h-source.html#l00567">tcp_frame::dport</a>, <a class="el" href="tcp__ip_8h-source.html#l00570">tcp_frame::hlen_flags</a>, <a class="el" href="tcp__ip_8h-source.html#l00625">tcb::locport</a>, <a class="el" href="tcp__ip_8h-source.html#l00627">tcb::myflags</a>, <a class="el" href="tcp__ip_8h-source.html#l00632">tcb::receive_next</a>, <a class="el" href="tcp__ip_8h-source.html#l00623">tcb::rem_ip</a>, <a class="el" href="tcp__ip_8h-source.html#l00624">tcb::remport</a>, <a class="el" href="tcp__ip_8h-source.html#l00629">tcb::send_mtu</a>, <a class="el" href="tcp__ip_8h-source.html#l00626">tcb::send_unacked</a>, <a class="el" href="tcp__ip_8h-source.html#l00568">tcp_frame::seqno</a>, <a class="el" href="tcp__ip_8h-source.html#l00566">tcp_frame::sport</a>, <a class="el" href="tcp_8c-source.html#l02253">tcp_sendcontrol()</a>, and <a class="el" href="tcp__ip_8h-source.html#l00631">tcb::tos</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l01250">process_tcp_in()</a>.    </td>
  </tr>
</table>
<a name="a89" doxytag="tcp_ip.h::tcp_getfreeport"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> UINT16 tcp_getfreeport </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Date: </b></dt><dd>
21.07.2002 </dl><dl compact><dt><b>Returns: </b></dt><dd>
 <ul>
<li> 0 - no free ports! <li> &gt;0 - free local TCP port number</ul>
</dl>Function attempts to find new local port number that can be used to  establish a connection. 
<p>
Definition at line <a class="el" href="tcp_8c-source.html#l02511">2511</a> of file <a class="el" href="tcp_8c-source.html">tcp.c</a>.
<p>
References <a class="el" href="tcp__ip_8h-source.html#l00625">tcb::locport</a>, <a class="el" href="tcp__ip_8h-source.html#l00609">tcb::state</a>, <a class="el" href="tcp__ip_8h-source.html#l00100">TCP_PORTS_END</a>, and <a class="el" href="tcp__ip_8h-source.html#l00335">TCP_STATE_CLOSED</a>.
<p>
Referenced by <a class="el" href="tcp_8c-source.html#l00377">tcp_connect()</a>.    </td>
  </tr>
</table>
<hr><address style="align: right;"><small>Generated on Sun Aug 3 20:33:00 2003 for OpenTCP by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.18 </small></address>
</body>
</html>
