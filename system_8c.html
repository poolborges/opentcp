<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>system.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; <a class="qindex" href="examples.html">Examples</a> &nbsp; </center>
<hr><h1>/opentcp/system.c File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
 <dl compact><dt><b>Author: </b></dt><dd>
 <ul>
<li> Jari Lahti (<a href="mailto:jari.lahti@violasystems.com">jari.lahti@violasystems.com</a>) </ul>
</dl><dl compact><dt><b>Version: </b></dt><dd>
1.0 </dl><dl compact><dt><b>Date: </b></dt><dd>
23.6.2002 </dl><dl compact><dt><b><a class="el" href="bug.html#_bug000020">Bug: </a></b></dt><dd>
</dl> <dl compact><dt><b>Warning: </b></dt><dd>
 </dl><dl compact><dt><b><a class="el" href="todo.html#_todo000022">Todo: </a></b></dt><dd>
</dl>
<p>
This file contains system related functions and variables. See <a class="el" href="system_8h.html">system.h</a> for a list of function declarations, constants, etc.
<p>

<p>
Definition in file <a class="el" href="system_8c-source.html">system.c</a>.
<p>
<a href="system_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td nowrap align=right valign=top>UINT32&nbsp;</td><td valign=bottom><a class="el" href="system_8c.html#a0">base_timer</a></td></tr>
<tr><td nowrap align=right valign=top>UINT8&nbsp;</td><td valign=bottom><a class="el" href="system_8c.html#a1">sleep_mode</a> = 0</td></tr>
<tr><td nowrap align=right valign=top>UINT8&nbsp;</td><td valign=bottom><a class="el" href="system_8c.html#a2">net_buf</a> [NETWORK_TX_BUFFER_SIZE]</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Transmit buffer used by all OpenTCP applications.</em> <a href="#a2"></a><em></em></font><br><br></td></tr>
</table>
<hr><h2>Variable Documentation</h2>
<a name="a0" doxytag="system.c::base_timer"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> UINT32 base_timer
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
System 1.024 msec timer 
<p>
Definition at line <a class="el" href="system_8c-source.html#l00074">74</a> of file <a class="el" href="system_8c-source.html">system.c</a>.    </td>
  </tr>
</table>
<a name="a1" doxytag="system.c::sleep_mode"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> UINT8 sleep_mode = 0
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Used to store information about power-saving state we're in (if any) 
<p>
Definition at line <a class="el" href="system_8c-source.html#l00076">76</a> of file <a class="el" href="system_8c-source.html">system.c</a>.    </td>
  </tr>
</table>
<a name="a2" doxytag="system.c::net_buf"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> UINT8 net_buf[NETWORK_TX_BUFFER_SIZE]
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This buffer is the transmit buffer used by all OpenTCP applications for sending of data. Please note the warnings below for correct usage of this buffer that ensures proper operation of the applications.
<p>
<dl compact><dt><b>Warning: </b></dt><dd>
 <ul>
<li> <b>Transmit buffer start</b> - to avoid data copying, the TCP/IP stack will use first part of the net_buf buffer to add it's data. This means that applications using TCP and/or UDP <b>must not</b> write application-level data from the beginning of the buffer but from certain offset. This offset depends on the transport-layer protocol (it's header size that is). For TCP this value is defined by the TCP_APP_OFFSET and for the UDP it is UDP_APP_OFFSET. <li> <b>Buffer sharing</b> - since all applications share this buffer among each other,  and with the TCP/IP stack as well, care must be taken not to overwrite other applications' data before it is sent. This is best achieved if all applications work in the main loop and when they wish to send data they fill in the buffer and send it immediately. </ul>
</dl>
<p>
Definition at line <a class="el" href="system_8c-source.html#l00099">99</a> of file <a class="el" href="system_8c-source.html">system.c</a>.    </td>
  </tr>
</table>
<hr><address style="align: right;"><small>Generated on Sun Aug 3 20:33:00 2003 for OpenTCP by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.18 </small></address>
</body>
</html>
